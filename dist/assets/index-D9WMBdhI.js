(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wu={exports:{}},ai={},Gu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=Symbol.for("react.element"),Bh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Jh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),ya=Symbol.iterator;function Xh(t){return t===null||typeof t!="object"?null:(t=ya&&t[ya]||t["@@iterator"],typeof t=="function"?t:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,Qu={};function Wn(t,e,n){this.props=t,this.context=e,this.refs=Qu,this.updater=n||qu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ju(){}Ju.prototype=Wn.prototype;function gl(t,e,n){this.props=t,this.context=e,this.refs=Qu,this.updater=n||qu}var vl=gl.prototype=new Ju;vl.constructor=gl;Ku(vl,Wn.prototype);vl.isPureReactComponent=!0;var wa=Array.isArray,Yu=Object.prototype.hasOwnProperty,yl={current:null},Xu={key:!0,ref:!0,__self:!0,__source:!0};function Zu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Yu.call(e,r)&&!Xu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Hr,type:t,key:i,ref:o,props:s,_owner:yl.current}}function Zh(t,e){return{$$typeof:Hr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hr}function ef(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xa=/\/+/g;function Oi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ef(""+t.key):e.toString(36)}function ks(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hr:case Bh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Oi(o,0):r,wa(s)?(n="",t!=null&&(n=t.replace(xa,"$&/")+"/"),ks(s,e,n,"",function(c){return c})):s!=null&&(wl(s)&&(s=Zh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",wa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Oi(i,l);o+=ks(i,e,n,a,s)}else if(a=Xh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Oi(i,l++),o+=ks(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zr(t,e,n){if(t==null)return t;var r=[],s=0;return ks(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ge={current:null},Ss={transition:null},nf={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:yl};function ec(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Zr,forEach:function(t,e,n){Zr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zr(t,function(){e++}),e},toArray:function(t){return Zr(t,function(e){return e})||[]},only:function(t){if(!wl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Wn;U.Fragment=Vh;U.Profiler=Wh;U.PureComponent=gl;U.StrictMode=Hh;U.Suspense=Qh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;U.act=ec;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ku({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=yl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Yu.call(e,a)&&!Xu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Hr,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:qh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gh,_context:t},t.Consumer=t};U.createElement=Zu;U.createFactory=function(t){var e=Zu.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Kh,render:t}};U.isValidElement=wl;U.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:tf}};U.memo=function(t,e){return{$$typeof:Jh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Ss.transition;Ss.transition={};try{t()}finally{Ss.transition=e}};U.unstable_act=ec;U.useCallback=function(t,e){return ge.current.useCallback(t,e)};U.useContext=function(t){return ge.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ge.current.useDeferredValue(t)};U.useEffect=function(t,e){return ge.current.useEffect(t,e)};U.useId=function(){return ge.current.useId()};U.useImperativeHandle=function(t,e,n){return ge.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return ge.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ge.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ge.current.useMemo(t,e)};U.useReducer=function(t,e,n){return ge.current.useReducer(t,e,n)};U.useRef=function(t){return ge.current.useRef(t)};U.useState=function(t){return ge.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return ge.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return ge.current.useTransition()};U.version="18.3.1";Gu.exports=U;var N=Gu.exports;const Er=Dh(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=N,sf=Symbol.for("react.element"),of=Symbol.for("react.fragment"),lf=Object.prototype.hasOwnProperty,af=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function tc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lf.call(e,r)&&!uf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sf,type:t,key:i,ref:o,props:s,_owner:af.current}}ai.Fragment=of;ai.jsx=tc;ai.jsxs=tc;Wu.exports=ai;var u=Wu.exports,nc={exports:{}},Pe={},rc={exports:{}},sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,I){var R=C.length;C.push(I);e:for(;0<R;){var A=R-1>>>1,D=C[A];if(0<s(D,I))C[A]=I,C[R]=D,R=A;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],R=C.pop();if(R!==I){C[0]=R;e:for(var A=0,D=C.length,pt=D>>>1;A<pt;){var et=2*(A+1)-1,Yn=C[et],tt=et+1,cn=C[tt];if(0>s(Yn,R))tt<D&&0>s(cn,Yn)?(C[A]=cn,C[tt]=R,A=tt):(C[A]=Yn,C[et]=R,A=et);else if(tt<D&&0>s(cn,R))C[A]=cn,C[tt]=R,A=tt;else break e}}return I}function s(C,I){var R=C.sortIndex-I.sortIndex;return R!==0?R:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=C)r(c),I.sortIndex=I.expirationTime,e(a,I);else break;I=n(c)}}function x(C){if(w=!1,m(C),!y)if(n(a)!==null)y=!0,Bt(b);else{var I=n(c);I!==null&&Vt(x,I.startTime-C)}}function b(C,I){y=!1,w&&(w=!1,g(k),k=-1),v=!0;var R=f;try{for(m(I),h=n(a);h!==null&&(!(h.expirationTime>I)||C&&!B());){var A=h.callback;if(typeof A=="function"){h.callback=null,f=h.priorityLevel;var D=A(h.expirationTime<=I);I=t.unstable_now(),typeof D=="function"?h.callback=D:h===n(a)&&r(a),m(I)}else r(a);h=n(a)}if(h!==null)var pt=!0;else{var et=n(c);et!==null&&Vt(x,et.startTime-I),pt=!1}return pt}finally{h=null,f=R,v=!1}}var S=!1,_=null,k=-1,T=5,O=-1;function B(){return!(t.unstable_now()-O<T)}function Xe(){if(_!==null){var C=t.unstable_now();O=C;var I=!0;try{I=_(!0,C)}finally{I?Ze():(S=!1,_=null)}}else S=!1}var Ze;if(typeof p=="function")Ze=function(){p(Xe)};else if(typeof MessageChannel<"u"){var un=new MessageChannel,Jn=un.port2;un.port1.onmessage=Xe,Ze=function(){Jn.postMessage(null)}}else Ze=function(){j(Xe,0)};function Bt(C){_=C,S||(S=!0,Ze())}function Vt(C,I){k=j(function(){C(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Bt(b))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var R=f;f=I;try{return C()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var R=f;f=C;try{return I()}finally{f=R}},t.unstable_scheduleCallback=function(C,I,R){var A=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?A+R:A):R=A,C){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=R+D,C={id:d++,callback:I,priorityLevel:C,startTime:R,expirationTime:D,sortIndex:-1},R>A?(C.sortIndex=R,e(c,C),n(a)===null&&C===n(c)&&(w?(g(k),k=-1):w=!0,Vt(x,R-A))):(C.sortIndex=D,e(a,C),y||v||(y=!0,Bt(b))),C},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(C){var I=f;return function(){var R=f;f=I;try{return C.apply(this,arguments)}finally{f=R}}}})(sc);rc.exports=sc;var cf=rc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=N,Ce=cf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ic=new Set,br={};function on(t,e){Mn(t,e),Mn(t+"Capture",e)}function Mn(t,e){for(br[t]=e,t=0;t<e.length;t++)ic.add(e[t])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a={},ka={};function ff(t){return co.call(ka,t)?!0:co.call(_a,t)?!1:hf.test(t)?ka[t]=!0:(_a[t]=!0,!1)}function pf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mf(t,e,n,r){if(e===null||typeof e>"u"||pf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ve(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ae[t]=new ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ae[e]=new ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ae[t]=new ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ae[t]=new ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ae[t]=new ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ae[t]=new ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ae[t]=new ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ae[t]=new ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ae[t]=new ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function _l(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xl,_l);ae[e]=new ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xl,_l);ae[e]=new ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xl,_l);ae[e]=new ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ae[t]=new ve(t,1,!1,t.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ae[t]=new ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function kl(t,e,n,r){var s=ae.hasOwnProperty(e)?ae[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mf(e,n,s,r)&&(n=null),r||s===null?ff(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),yn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),Sl=Symbol.for("react.strict_mode"),ho=Symbol.for("react.profiler"),oc=Symbol.for("react.provider"),lc=Symbol.for("react.context"),jl=Symbol.for("react.forward_ref"),fo=Symbol.for("react.suspense"),po=Symbol.for("react.suspense_list"),El=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),ac=Symbol.for("react.offscreen"),Sa=Symbol.iterator;function Zn(t){return t===null||typeof t!="object"?null:(t=Sa&&t[Sa]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,Ii;function ar(t){if(Ii===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ii=e&&e[1]||""}return`
`+Ii+t}var Ri=!1;function Li(t,e){if(!t||Ri)return"";Ri=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ri=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ar(t):""}function gf(t){switch(t.tag){case 5:return ar(t.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return t=Li(t.type,!1),t;case 11:return t=Li(t.type.render,!1),t;case 1:return t=Li(t.type,!0),t;default:return""}}function mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wn:return"Fragment";case yn:return"Portal";case ho:return"Profiler";case Sl:return"StrictMode";case fo:return"Suspense";case po:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lc:return(t.displayName||"Context")+".Consumer";case oc:return(t._context.displayName||"Context")+".Provider";case jl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case El:return e=t.displayName||null,e!==null?e:mo(t.type)||"Memo";case vt:e=t._payload,t=t._init;try{return mo(t(e))}catch{}}return null}function vf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(e);case 8:return e===Sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yf(t){var e=uc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ts(t){t._valueTracker||(t._valueTracker=yf(t))}function cc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function go(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ja(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dc(t,e){e=e.checked,e!=null&&kl(t,"checked",e,!1)}function vo(t,e){dc(t,e);var n=Lt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,n):e.hasOwnProperty("defaultValue")&&yo(t,e.type,Lt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ea(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yo(t,e,n){(e!=="number"||Ls(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ur=Array.isArray;function An(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ba(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ur(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lt(n)}}function hc(t,e){var n=Lt(e.value),r=Lt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Na(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ns,pc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ns.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fr[e]=fr[t]})});function mc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fr.hasOwnProperty(t)&&fr[t]?(""+e).trim():e+"px"}function gc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(t,e){if(e){if(xf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ko(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function bl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jo=null,Tn=null,On=null;function Ca(t){if(t=qr(t)){if(typeof jo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=fi(e),jo(t.stateNode,t.type,e))}}function vc(t){Tn?On?On.push(t):On=[t]:Tn=t}function yc(){if(Tn){var t=Tn,e=On;if(On=Tn=null,Ca(t),e)for(t=0;t<e.length;t++)Ca(e[t])}}function wc(t,e){return t(e)}function xc(){}var $i=!1;function _c(t,e,n){if($i)return t(e,n);$i=!0;try{return wc(t,e,n)}finally{$i=!1,(Tn!==null||On!==null)&&(xc(),yc())}}function Cr(t,e){var n=t.stateNode;if(n===null)return null;var r=fi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Eo=!1;if(ut)try{var er={};Object.defineProperty(er,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Eo=!1}function _f(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var pr=!1,$s=null,Ms=!1,bo=null,kf={onError:function(t){pr=!0,$s=t}};function Sf(t,e,n,r,s,i,o,l,a){pr=!1,$s=null,_f.apply(kf,arguments)}function jf(t,e,n,r,s,i,o,l,a){if(Sf.apply(this,arguments),pr){if(pr){var c=$s;pr=!1,$s=null}else throw Error(E(198));Ms||(Ms=!0,bo=c)}}function ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pa(t){if(ln(t)!==t)throw Error(E(188))}function Ef(t){var e=t.alternate;if(!e){if(e=ln(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pa(s),t;if(i===r)return Pa(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Sc(t){return t=Ef(t),t!==null?jc(t):null}function jc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jc(t);if(e!==null)return e;t=t.sibling}return null}var Ec=Ce.unstable_scheduleCallback,Aa=Ce.unstable_cancelCallback,bf=Ce.unstable_shouldYield,Nf=Ce.unstable_requestPaint,Z=Ce.unstable_now,Cf=Ce.unstable_getCurrentPriorityLevel,Nl=Ce.unstable_ImmediatePriority,bc=Ce.unstable_UserBlockingPriority,Us=Ce.unstable_NormalPriority,Pf=Ce.unstable_LowPriority,Nc=Ce.unstable_IdlePriority,ui=null,Je=null;function Af(t){if(Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(ui,t,void 0,(t.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:If,Tf=Math.log,Of=Math.LN2;function If(t){return t>>>=0,t===0?32:31-(Tf(t)/Of|0)|0}var rs=64,ss=4194304;function cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=cr(l):(i&=o,i!==0&&(r=cr(i)))}else o=n&~s,o!==0?r=cr(o):i!==0&&(r=cr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-He(e),s=1<<n,r|=t[n],e&=~s;return r}function Rf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-He(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Rf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function No(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cc(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Mi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-He(e),t[e]=n}function $f(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-He(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-He(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var F=0;function Pc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ac,Pl,Tc,Oc,Ic,Co=!1,is=[],Et=null,bt=null,Nt=null,Pr=new Map,Ar=new Map,xt=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(t,e){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(e.pointerId)}}function tr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qr(e),e!==null&&Pl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uf(t,e,n,r,s){switch(e){case"focusin":return Et=tr(Et,t,e,n,r,s),!0;case"dragenter":return bt=tr(bt,t,e,n,r,s),!0;case"mouseover":return Nt=tr(Nt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pr.set(i,tr(Pr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ar.set(i,tr(Ar.get(i)||null,t,e,n,r,s)),!0}return!1}function Rc(t){var e=Qt(t.target);if(e!==null){var n=ln(e);if(n!==null){if(e=n.tag,e===13){if(e=kc(n),e!==null){t.blockedOn=e,Ic(t.priority,function(){Tc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function js(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Po(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);So=r,n.target.dispatchEvent(r),So=null}else return e=qr(n),e!==null&&Pl(e),t.blockedOn=n,!1;e.shift()}return!0}function Oa(t,e,n){js(t)&&n.delete(e)}function zf(){Co=!1,Et!==null&&js(Et)&&(Et=null),bt!==null&&js(bt)&&(bt=null),Nt!==null&&js(Nt)&&(Nt=null),Pr.forEach(Oa),Ar.forEach(Oa)}function nr(t,e){t.blockedOn===e&&(t.blockedOn=null,Co||(Co=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,zf)))}function Tr(t){function e(s){return nr(s,t)}if(0<is.length){nr(is[0],t);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Et!==null&&nr(Et,t),bt!==null&&nr(bt,t),Nt!==null&&nr(Nt,t),Pr.forEach(e),Ar.forEach(e),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Rc(n),n.blockedOn===null&&xt.shift()}var In=ft.ReactCurrentBatchConfig,Ds=!0;function Df(t,e,n,r){var s=F,i=In.transition;In.transition=null;try{F=1,Al(t,e,n,r)}finally{F=s,In.transition=i}}function Ff(t,e,n,r){var s=F,i=In.transition;In.transition=null;try{F=4,Al(t,e,n,r)}finally{F=s,In.transition=i}}function Al(t,e,n,r){if(Ds){var s=Po(t,e,n,r);if(s===null)qi(t,e,r,Fs,n),Ta(t,r);else if(Uf(s,t,e,n,r))r.stopPropagation();else if(Ta(t,r),e&4&&-1<Mf.indexOf(t)){for(;s!==null;){var i=qr(s);if(i!==null&&Ac(i),i=Po(t,e,n,r),i===null&&qi(t,e,r,Fs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qi(t,e,r,null,n)}}var Fs=null;function Po(t,e,n,r){if(Fs=null,t=bl(r),t=Qt(t),t!==null)if(e=ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function Lc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cf()){case Nl:return 1;case bc:return 4;case Us:case Pf:return 16;case Nc:return 536870912;default:return 16}default:return 16}}var St=null,Tl=null,Es=null;function $c(){if(Es)return Es;var t,e=Tl,n=e.length,r,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Es=s.slice(t,1<r?1-r:void 0)}function bs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function Ia(){return!1}function Ae(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?os:Ia,this.isPropagationStopped=Ia,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),e}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ae(Gn),Gr=Y({},Gn,{view:0,detail:0}),Bf=Ae(Gr),Ui,zi,rr,ci=Y({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(Ui=t.screenX-rr.screenX,zi=t.screenY-rr.screenY):zi=Ui=0,rr=t),Ui)},movementY:function(t){return"movementY"in t?t.movementY:zi}}),Ra=Ae(ci),Vf=Y({},ci,{dataTransfer:0}),Hf=Ae(Vf),Wf=Y({},Gr,{relatedTarget:0}),Di=Ae(Wf),Gf=Y({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),qf=Ae(Gf),Kf=Y({},Gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qf=Ae(Kf),Jf=Y({},Gn,{data:0}),La=Ae(Jf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zf[t])?!!e[t]:!1}function Il(){return ep}var tp=Y({},Gr,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),np=Ae(tp),rp=Y({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=Ae(rp),sp=Y({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),ip=Ae(sp),op=Y({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=Ae(op),ap=Y({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),up=Ae(ap),cp=[9,13,27,32],Rl=ut&&"CompositionEvent"in window,mr=null;ut&&"documentMode"in document&&(mr=document.documentMode);var dp=ut&&"TextEvent"in window&&!mr,Mc=ut&&(!Rl||mr&&8<mr&&11>=mr),Ma=" ",Ua=!1;function Uc(t,e){switch(t){case"keyup":return cp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function hp(t,e){switch(t){case"compositionend":return zc(e);case"keypress":return e.which!==32?null:(Ua=!0,Ma);case"textInput":return t=e.data,t===Ma&&Ua?null:t;default:return null}}function fp(t,e){if(xn)return t==="compositionend"||!Rl&&Uc(t,e)?(t=$c(),Es=Tl=St=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mc&&e.locale!=="ko"?null:e.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function za(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pp[t.type]:e==="textarea"}function Dc(t,e,n,r){vc(r),e=Bs(e,"onChange"),0<e.length&&(n=new Ol("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gr=null,Or=null;function mp(t){Yc(t,0)}function di(t){var e=Sn(t);if(cc(e))return t}function gp(t,e){if(t==="change")return e}var Fc=!1;if(ut){var Fi;if(ut){var Bi="oninput"in document;if(!Bi){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Bi=typeof Da.oninput=="function"}Fi=Bi}else Fi=!1;Fc=Fi&&(!document.documentMode||9<document.documentMode)}function Fa(){gr&&(gr.detachEvent("onpropertychange",Bc),Or=gr=null)}function Bc(t){if(t.propertyName==="value"&&di(Or)){var e=[];Dc(e,Or,t,bl(t)),_c(mp,e)}}function vp(t,e,n){t==="focusin"?(Fa(),gr=e,Or=n,gr.attachEvent("onpropertychange",Bc)):t==="focusout"&&Fa()}function yp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return di(Or)}function wp(t,e){if(t==="click")return di(e)}function xp(t,e){if(t==="input"||t==="change")return di(e)}function _p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:_p;function Ir(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!co.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function Ba(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Va(t,e){var n=Ba(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ba(n)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hc(){for(var t=window,e=Ls();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ls(t.document)}return e}function Ll(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kp(t){var e=Hc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vc(n.ownerDocument.documentElement,n)){if(r!==null&&Ll(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Va(n,i);var o=Va(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sp=ut&&"documentMode"in document&&11>=document.documentMode,_n=null,Ao=null,vr=null,To=!1;function Ha(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;To||_n==null||_n!==Ls(r)||(r=_n,"selectionStart"in r&&Ll(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vr&&Ir(vr,r)||(vr=r,r=Bs(Ao,"onSelect"),0<r.length&&(e=new Ol("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_n)))}function ls(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kn={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},Vi={},Wc={};ut&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function hi(t){if(Vi[t])return Vi[t];if(!kn[t])return t;var e=kn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wc)return Vi[t]=e[n];return t}var Gc=hi("animationend"),qc=hi("animationiteration"),Kc=hi("animationstart"),Qc=hi("transitionend"),Jc=new Map,Wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){Jc.set(t,e),on(e,[t])}for(var Hi=0;Hi<Wa.length;Hi++){var Wi=Wa[Hi],jp=Wi.toLowerCase(),Ep=Wi[0].toUpperCase()+Wi.slice(1);Ut(jp,"on"+Ep)}Ut(Gc,"onAnimationEnd");Ut(qc,"onAnimationIteration");Ut(Kc,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(Qc,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function Ga(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jf(r,e,void 0,t),t.currentTarget=null}function Yc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ga(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ga(s,l,c),i=a}}}if(Ms)throw t=bo,Ms=!1,bo=null,t}function W(t,e){var n=e[$o];n===void 0&&(n=e[$o]=new Set);var r=t+"__bubble";n.has(r)||(Xc(e,t,2,!1),n.add(r))}function Gi(t,e,n){var r=0;e&&(r|=4),Xc(n,t,r,e)}var as="_reactListening"+Math.random().toString(36).slice(2);function Rr(t){if(!t[as]){t[as]=!0,ic.forEach(function(n){n!=="selectionchange"&&(bp.has(n)||Gi(n,!1,t),Gi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[as]||(e[as]=!0,Gi("selectionchange",!1,e))}}function Xc(t,e,n,r){switch(Lc(e)){case 1:var s=Df;break;case 4:s=Ff;break;default:s=Al}n=s.bind(null,e,n,t),s=void 0,!Eo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}_c(function(){var c=i,d=bl(n),h=[];e:{var f=Jc.get(t);if(f!==void 0){var v=Ol,y=t;switch(t){case"keypress":if(bs(n)===0)break e;case"keydown":case"keyup":v=np;break;case"focusin":y="focus",v=Di;break;case"focusout":y="blur",v=Di;break;case"beforeblur":case"afterblur":v=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ip;break;case Gc:case qc:case Kc:v=qf;break;case Qc:v=lp;break;case"scroll":v=Bf;break;case"wheel":v=up;break;case"copy":case"cut":case"paste":v=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$a}var w=(e&4)!==0,j=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=Cr(p,g),x!=null&&w.push(Lr(p,x,m)))),j)break;p=p.return}0<w.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==So&&(y=n.relatedTarget||n.fromElement)&&(Qt(y)||y[ct]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Qt(y):null,y!==null&&(j=ln(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=Ra,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=$a,x="onPointerLeave",g="onPointerEnter",p="pointer"),j=v==null?f:Sn(v),m=y==null?f:Sn(y),f=new w(x,p+"leave",v,n,d),f.target=j,f.relatedTarget=m,x=null,Qt(d)===c&&(w=new w(g,p+"enter",y,n,d),w.target=m,w.relatedTarget=j,x=w),j=x,v&&y)t:{for(w=v,g=y,p=0,m=w;m;m=hn(m))p++;for(m=0,x=g;x;x=hn(x))m++;for(;0<p-m;)w=hn(w),p--;for(;0<m-p;)g=hn(g),m--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=hn(w),g=hn(g)}w=null}else w=null;v!==null&&qa(h,f,v,w,!1),y!==null&&j!==null&&qa(h,j,y,w,!0)}}e:{if(f=c?Sn(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=gp;else if(za(f))if(Fc)b=xp;else{b=yp;var S=vp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=wp);if(b&&(b=b(t,c))){Dc(h,b,n,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&yo(f,"number",f.value)}switch(S=c?Sn(c):window,t){case"focusin":(za(S)||S.contentEditable==="true")&&(_n=S,Ao=c,vr=null);break;case"focusout":vr=Ao=_n=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,Ha(h,n,d);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":Ha(h,n,d)}var _;if(Rl)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else xn?Uc(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Mc&&n.locale!=="ko"&&(xn||k!=="onCompositionStart"?k==="onCompositionEnd"&&xn&&(_=$c()):(St=d,Tl="value"in St?St.value:St.textContent,xn=!0)),S=Bs(c,k),0<S.length&&(k=new La(k,t,null,n,d),h.push({event:k,listeners:S}),_?k.data=_:(_=zc(n),_!==null&&(k.data=_)))),(_=dp?hp(t,n):fp(t,n))&&(c=Bs(c,"onBeforeInput"),0<c.length&&(d=new La("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=_))}Yc(h,e)})}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cr(t,n),i!=null&&r.unshift(Lr(t,i,s)),i=Cr(t,e),i!=null&&r.push(Lr(t,i,s))),t=t.return}return r}function hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qa(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Cr(n,i),a!=null&&o.unshift(Lr(n,a,l))):s||(a=Cr(n,i),a!=null&&o.push(Lr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Np=/\r\n?/g,Cp=/\u0000|\uFFFD/g;function Ka(t){return(typeof t=="string"?t:""+t).replace(Np,`
`).replace(Cp,"")}function us(t,e,n){if(e=Ka(e),Ka(t)!==e&&n)throw Error(E(425))}function Vs(){}var Oo=null,Io=null;function Ro(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(t){return Qa.resolve(null).then(t).catch(Tp)}:Lo;function Tp(t){setTimeout(function(){throw t})}function Ki(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Tr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tr(e)}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ja(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+qn,$r="__reactProps$"+qn,ct="__reactContainer$"+qn,$o="__reactEvents$"+qn,Op="__reactListeners$"+qn,Ip="__reactHandles$"+qn;function Qt(t){var e=t[Qe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ct]||n[Qe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ja(t);t!==null;){if(n=t[Qe])return n;t=Ja(t)}return e}t=n,n=t.parentNode}return null}function qr(t){return t=t[Qe]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function fi(t){return t[$r]||null}var Mo=[],jn=-1;function zt(t){return{current:t}}function G(t){0>jn||(t.current=Mo[jn],Mo[jn]=null,jn--)}function H(t,e){jn++,Mo[jn]=t.current,t.current=e}var $t={},he=zt($t),ke=zt(!1),en=$t;function Un(t,e){var n=t.type.contextTypes;if(!n)return $t;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Se(t){return t=t.childContextTypes,t!=null}function Hs(){G(ke),G(he)}function Ya(t,e,n){if(he.current!==$t)throw Error(E(168));H(he,e),H(ke,n)}function Zc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,vf(t)||"Unknown",s));return Y({},n,r)}function Ws(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,en=he.current,H(he,t),H(ke,ke.current),!0}function Xa(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Zc(t,e,en),r.__reactInternalMemoizedMergedChildContext=t,G(ke),G(he),H(he,t)):G(ke),H(ke,n)}var it=null,pi=!1,Qi=!1;function ed(t){it===null?it=[t]:it.push(t)}function Rp(t){pi=!0,ed(t)}function Dt(){if(!Qi&&it!==null){Qi=!0;var t=0,e=F;try{var n=it;for(F=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}it=null,pi=!1}catch(s){throw it!==null&&(it=it.slice(t+1)),Ec(Nl,Dt),s}finally{F=e,Qi=!1}}return null}var En=[],bn=0,Gs=null,qs=0,Te=[],Oe=0,tn=null,ot=1,lt="";function Wt(t,e){En[bn++]=qs,En[bn++]=Gs,Gs=t,qs=e}function td(t,e,n){Te[Oe++]=ot,Te[Oe++]=lt,Te[Oe++]=tn,tn=t;var r=ot;t=lt;var s=32-He(r)-1;r&=~(1<<s),n+=1;var i=32-He(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ot=1<<32-He(e)+s|n<<s|r,lt=i+t}else ot=1<<i|n<<s|r,lt=t}function $l(t){t.return!==null&&(Wt(t,1),td(t,1,0))}function Ml(t){for(;t===Gs;)Gs=En[--bn],En[bn]=null,qs=En[--bn],En[bn]=null;for(;t===tn;)tn=Te[--Oe],Te[Oe]=null,lt=Te[--Oe],Te[Oe]=null,ot=Te[--Oe],Te[Oe]=null}var Ne=null,be=null,K=!1,Ve=null;function nd(t,e){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Za(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ne=t,be=Ct(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ne=t,be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tn!==null?{id:ot,overflow:lt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ne=t,be=null,!0):!1;default:return!1}}function Uo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zo(t){if(K){var e=be;if(e){var n=e;if(!Za(t,e)){if(Uo(t))throw Error(E(418));e=Ct(n.nextSibling);var r=Ne;e&&Za(t,e)?nd(r,n):(t.flags=t.flags&-4097|2,K=!1,Ne=t)}}else{if(Uo(t))throw Error(E(418));t.flags=t.flags&-4097|2,K=!1,Ne=t}}}function eu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ne=t}function cs(t){if(t!==Ne)return!1;if(!K)return eu(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ro(t.type,t.memoizedProps)),e&&(e=be)){if(Uo(t))throw rd(),Error(E(418));for(;e;)nd(t,e),e=Ct(e.nextSibling)}if(eu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){be=Ct(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}be=null}}else be=Ne?Ct(t.stateNode.nextSibling):null;return!0}function rd(){for(var t=be;t;)t=Ct(t.nextSibling)}function zn(){be=Ne=null,K=!1}function Ul(t){Ve===null?Ve=[t]:Ve.push(t)}var Lp=ft.ReactCurrentBatchConfig;function sr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ds(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tu(t){var e=t._init;return e(t._payload)}function sd(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Ot(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,x){return p===null||p.tag!==6?(p=no(m,g.mode,x),p.return=g,p):(p=s(p,m),p.return=g,p)}function a(g,p,m,x){var b=m.type;return b===wn?d(g,p,m.props.children,x,m.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vt&&tu(b)===p.type)?(x=s(p,m.props),x.ref=sr(g,p,m),x.return=g,x):(x=Is(m.type,m.key,m.props,null,g.mode,x),x.ref=sr(g,p,m),x.return=g,x)}function c(g,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ro(m,g.mode,x),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,x,b){return p===null||p.tag!==7?(p=Zt(m,g.mode,x,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=no(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case es:return m=Is(p.type,p.key,p.props,null,g.mode,m),m.ref=sr(g,null,p),m.return=g,m;case yn:return p=ro(p,g.mode,m),p.return=g,p;case vt:var x=p._init;return h(g,x(p._payload),m)}if(ur(p)||Zn(p))return p=Zt(p,g.mode,m,null),p.return=g,p;ds(g,p)}return null}function f(g,p,m,x){var b=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:l(g,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case es:return m.key===b?a(g,p,m,x):null;case yn:return m.key===b?c(g,p,m,x):null;case vt:return b=m._init,f(g,p,b(m._payload),x)}if(ur(m)||Zn(m))return b!==null?null:d(g,p,m,x,null);ds(g,m)}return null}function v(g,p,m,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,l(p,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return g=g.get(x.key===null?m:x.key)||null,a(p,g,x,b);case yn:return g=g.get(x.key===null?m:x.key)||null,c(p,g,x,b);case vt:var S=x._init;return v(g,p,m,S(x._payload),b)}if(ur(x)||Zn(x))return g=g.get(m)||null,d(p,g,x,b,null);ds(p,x)}return null}function y(g,p,m,x){for(var b=null,S=null,_=p,k=p=0,T=null;_!==null&&k<m.length;k++){_.index>k?(T=_,_=null):T=_.sibling;var O=f(g,_,m[k],x);if(O===null){_===null&&(_=T);break}t&&_&&O.alternate===null&&e(g,_),p=i(O,p,k),S===null?b=O:S.sibling=O,S=O,_=T}if(k===m.length)return n(g,_),K&&Wt(g,k),b;if(_===null){for(;k<m.length;k++)_=h(g,m[k],x),_!==null&&(p=i(_,p,k),S===null?b=_:S.sibling=_,S=_);return K&&Wt(g,k),b}for(_=r(g,_);k<m.length;k++)T=v(_,g,k,m[k],x),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?k:T.key),p=i(T,p,k),S===null?b=T:S.sibling=T,S=T);return t&&_.forEach(function(B){return e(g,B)}),K&&Wt(g,k),b}function w(g,p,m,x){var b=Zn(m);if(typeof b!="function")throw Error(E(150));if(m=b.call(m),m==null)throw Error(E(151));for(var S=b=null,_=p,k=p=0,T=null,O=m.next();_!==null&&!O.done;k++,O=m.next()){_.index>k?(T=_,_=null):T=_.sibling;var B=f(g,_,O.value,x);if(B===null){_===null&&(_=T);break}t&&_&&B.alternate===null&&e(g,_),p=i(B,p,k),S===null?b=B:S.sibling=B,S=B,_=T}if(O.done)return n(g,_),K&&Wt(g,k),b;if(_===null){for(;!O.done;k++,O=m.next())O=h(g,O.value,x),O!==null&&(p=i(O,p,k),S===null?b=O:S.sibling=O,S=O);return K&&Wt(g,k),b}for(_=r(g,_);!O.done;k++,O=m.next())O=v(_,g,k,O.value,x),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?k:O.key),p=i(O,p,k),S===null?b=O:S.sibling=O,S=O);return t&&_.forEach(function(Xe){return e(g,Xe)}),K&&Wt(g,k),b}function j(g,p,m,x){if(typeof m=="object"&&m!==null&&m.type===wn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case es:e:{for(var b=m.key,S=p;S!==null;){if(S.key===b){if(b=m.type,b===wn){if(S.tag===7){n(g,S.sibling),p=s(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vt&&tu(b)===S.type){n(g,S.sibling),p=s(S,m.props),p.ref=sr(g,S,m),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}m.type===wn?(p=Zt(m.props.children,g.mode,x,m.key),p.return=g,g=p):(x=Is(m.type,m.key,m.props,null,g.mode,x),x.ref=sr(g,p,m),x.return=g,g=x)}return o(g);case yn:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=ro(m,g.mode,x),p.return=g,g=p}return o(g);case vt:return S=m._init,j(g,p,S(m._payload),x)}if(ur(m))return y(g,p,m,x);if(Zn(m))return w(g,p,m,x);ds(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=no(m,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return j}var Dn=sd(!0),id=sd(!1),Ks=zt(null),Qs=null,Nn=null,zl=null;function Dl(){zl=Nn=Qs=null}function Fl(t){var e=Ks.current;G(Ks),t._currentValue=e}function Do(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rn(t,e){Qs=t,zl=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_e=!0),t.firstContext=null)}function $e(t){var e=t._currentValue;if(zl!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(Qs===null)throw Error(E(308));Nn=t,Qs.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var Jt=null;function Bl(t){Jt===null?Jt=[t]:Jt.push(t)}function od(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Bl(e)):(n.next=s.next,s.next=n),e.interleaved=n,dt(t,r)}function dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yt=!1;function Vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function at(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dt(t,n)}return s=r.interleaved,s===null?(e.next=e,Bl(r)):(e.next=s.next,s.next=e),r.interleaved=e,dt(t,n)}function Ns(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cl(t,n)}}function nu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Js(t,e,n,r){var s=t.updateQueue;yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(f=e,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=Y({},h,f);break e;case 2:yt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);rn|=o,t.lanes=o,t.memoizedState=h}}function ru(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Kr={},Ye=zt(Kr),Mr=zt(Kr),Ur=zt(Kr);function Yt(t){if(t===Kr)throw Error(E(174));return t}function Hl(t,e){switch(H(Ur,e),H(Mr,t),H(Ye,Kr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xo(e,t)}G(Ye),H(Ye,e)}function Fn(){G(Ye),G(Mr),G(Ur)}function ad(t){Yt(Ur.current);var e=Yt(Ye.current),n=xo(e,t.type);e!==n&&(H(Mr,t),H(Ye,n))}function Wl(t){Mr.current===t&&(G(Ye),G(Mr))}var Q=zt(0);function Ys(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function Gl(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Cs=ft.ReactCurrentDispatcher,Yi=ft.ReactCurrentBatchConfig,nn=0,J=null,te=null,se=null,Xs=!1,yr=!1,zr=0,$p=0;function ue(){throw Error(E(321))}function ql(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function Kl(t,e,n,r,s,i){if(nn=i,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?Dp:Fp,t=n(r,s),yr){i=0;do{if(yr=!1,zr=0,25<=i)throw Error(E(301));i+=1,se=te=null,e.updateQueue=null,Cs.current=Bp,t=n(r,s)}while(yr)}if(Cs.current=Zs,e=te!==null&&te.next!==null,nn=0,se=te=J=null,Xs=!1,e)throw Error(E(300));return t}function Ql(){var t=zr!==0;return zr=0,t}function Ke(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?J.memoizedState=se=t:se=se.next=t,se}function Me(){if(te===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=se===null?J.memoizedState:se.next;if(e!==null)se=e,te=t;else{if(t===null)throw Error(E(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},se===null?J.memoizedState=se=t:se=se.next=t}return se}function Dr(t,e){return typeof e=="function"?e(t):e}function Xi(t){var e=Me(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((nn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,J.lanes|=d,rn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(_e=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,J.lanes|=i,rn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zi(t){var e=Me(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(_e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ud(){}function cd(t,e){var n=J,r=Me(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,_e=!0),r=r.queue,Jl(fd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,Fr(9,hd.bind(null,n,r,s,e),void 0,null),ie===null)throw Error(E(349));nn&30||dd(n,e,s)}return s}function dd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hd(t,e,n,r){e.value=n,e.getSnapshot=r,pd(e)&&md(t)}function fd(t,e,n){return n(function(){pd(e)&&md(t)})}function pd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function md(t){var e=dt(t,1);e!==null&&We(e,t,1,-1)}function su(t){var e=Ke();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:t},e.queue=t,t=t.dispatch=zp.bind(null,J,t),[e.memoizedState,t]}function Fr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gd(){return Me().memoizedState}function Ps(t,e,n,r){var s=Ke();J.flags|=t,s.memoizedState=Fr(1|e,n,void 0,r===void 0?null:r)}function mi(t,e,n,r){var s=Me();r=r===void 0?null:r;var i=void 0;if(te!==null){var o=te.memoizedState;if(i=o.destroy,r!==null&&ql(r,o.deps)){s.memoizedState=Fr(e,n,i,r);return}}J.flags|=t,s.memoizedState=Fr(1|e,n,i,r)}function iu(t,e){return Ps(8390656,8,t,e)}function Jl(t,e){return mi(2048,8,t,e)}function vd(t,e){return mi(4,2,t,e)}function yd(t,e){return mi(4,4,t,e)}function wd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xd(t,e,n){return n=n!=null?n.concat([t]):null,mi(4,4,wd.bind(null,e,t),n)}function Yl(){}function _d(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ql(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kd(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ql(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sd(t,e,n){return nn&21?(Ge(n,e)||(n=Cc(),J.lanes|=n,rn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_e=!0),t.memoizedState=n)}function Mp(t,e){var n=F;F=n!==0&&4>n?n:4,t(!0);var r=Yi.transition;Yi.transition={};try{t(!1),e()}finally{F=n,Yi.transition=r}}function jd(){return Me().memoizedState}function Up(t,e,n){var r=Tt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ed(t))bd(e,n);else if(n=od(t,e,n,r),n!==null){var s=me();We(n,t,r,s),Nd(n,e,r)}}function zp(t,e,n){var r=Tt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ed(t))bd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,Bl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=od(t,e,s,r),n!==null&&(s=me(),We(n,t,r,s),Nd(n,e,r))}}function Ed(t){var e=t.alternate;return t===J||e!==null&&e===J}function bd(t,e){yr=Xs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cl(t,n)}}var Zs={readContext:$e,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},Dp={readContext:$e,useCallback:function(t,e){return Ke().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:iu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ps(4194308,4,wd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var n=Ke();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ke();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Up.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=Ke();return t={current:t},e.memoizedState=t},useState:su,useDebugValue:Yl,useDeferredValue:function(t){return Ke().memoizedState=t},useTransition:function(){var t=su(!1),e=t[0];return t=Mp.bind(null,t[1]),Ke().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,s=Ke();if(K){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ie===null)throw Error(E(349));nn&30||dd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,iu(fd.bind(null,r,i,t),[t]),r.flags|=2048,Fr(9,hd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ke(),e=ie.identifierPrefix;if(K){var n=lt,r=ot;n=(r&~(1<<32-He(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$p++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fp={readContext:$e,useCallback:_d,useContext:$e,useEffect:Jl,useImperativeHandle:xd,useInsertionEffect:vd,useLayoutEffect:yd,useMemo:kd,useReducer:Xi,useRef:gd,useState:function(){return Xi(Dr)},useDebugValue:Yl,useDeferredValue:function(t){var e=Me();return Sd(e,te.memoizedState,t)},useTransition:function(){var t=Xi(Dr)[0],e=Me().memoizedState;return[t,e]},useMutableSource:ud,useSyncExternalStore:cd,useId:jd,unstable_isNewReconciler:!1},Bp={readContext:$e,useCallback:_d,useContext:$e,useEffect:Jl,useImperativeHandle:xd,useInsertionEffect:vd,useLayoutEffect:yd,useMemo:kd,useReducer:Zi,useRef:gd,useState:function(){return Zi(Dr)},useDebugValue:Yl,useDeferredValue:function(t){var e=Me();return te===null?e.memoizedState=t:Sd(e,te.memoizedState,t)},useTransition:function(){var t=Zi(Dr)[0],e=Me().memoizedState;return[t,e]},useMutableSource:ud,useSyncExternalStore:cd,useId:jd,unstable_isNewReconciler:!1};function De(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gi={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=me(),s=Tt(t),i=at(r,s);i.payload=e,n!=null&&(i.callback=n),e=Pt(t,i,s),e!==null&&(We(e,t,s,r),Ns(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=me(),s=Tt(t),i=at(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Pt(t,i,s),e!==null&&(We(e,t,s,r),Ns(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=me(),r=Tt(t),s=at(n,r);s.tag=2,e!=null&&(s.callback=e),e=Pt(t,s,r),e!==null&&(We(e,t,r,n),Ns(e,t,r))}};function ou(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ir(n,r)||!Ir(s,i):!0}function Cd(t,e,n){var r=!1,s=$t,i=e.contextType;return typeof i=="object"&&i!==null?i=$e(i):(s=Se(e)?en:he.current,r=e.contextTypes,i=(r=r!=null)?Un(t,s):$t),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gi.enqueueReplaceState(e,e.state,null)}function Bo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$e(i):(i=Se(e)?en:he.current,s.context=Un(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gi.enqueueReplaceState(s,s.state,null),Js(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bn(t,e){try{var n="",r=e;do n+=gf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vp=typeof WeakMap=="function"?WeakMap:Map;function Pd(t,e,n){n=at(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ti||(ti=!0,Zo=r),Vo(t,e)},n}function Ad(t,e,n){n=at(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vo(t,e),typeof r!="function"&&(At===null?At=new Set([this]):At.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function au(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rm.bind(null,t,e,n),e.then(t,t))}function uu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=at(-1,1),e.tag=2,Pt(n,e,1))),n.lanes|=1),t)}var Hp=ft.ReactCurrentOwner,_e=!1;function pe(t,e,n,r){e.child=t===null?id(e,null,n,r):Dn(e,t.child,n,r)}function du(t,e,n,r,s){n=n.render;var i=e.ref;return Rn(e,s),r=Kl(t,e,n,r,i,s),n=Ql(),t!==null&&!_e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(K&&n&&$l(e),e.flags|=1,pe(t,e,r,s),e.child)}function hu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ia(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Td(t,e,i,r,s)):(t=Is(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(o,r)&&t.ref===e.ref)return ht(t,e,s)}return e.flags|=1,t=Ot(i,r),t.ref=e.ref,t.return=e,e.child=t}function Td(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ir(i,r)&&t.ref===e.ref)if(_e=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_e=!0);else return e.lanes=t.lanes,ht(t,e,s)}return Ho(t,e,n,r,s)}function Od(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Pn,Ee),Ee|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Pn,Ee),Ee|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,H(Pn,Ee),Ee|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,H(Pn,Ee),Ee|=r;return pe(t,e,s,n),e.child}function Id(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ho(t,e,n,r,s){var i=Se(n)?en:he.current;return i=Un(e,i),Rn(e,s),n=Kl(t,e,n,r,i,s),r=Ql(),t!==null&&!_e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(K&&r&&$l(e),e.flags|=1,pe(t,e,n,s),e.child)}function fu(t,e,n,r,s){if(Se(n)){var i=!0;Ws(e)}else i=!1;if(Rn(e,s),e.stateNode===null)As(t,e),Cd(e,n,r),Bo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$e(c):(c=Se(n)?en:he.current,c=Un(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&lu(e,o,r,c),yt=!1;var f=e.memoizedState;o.state=f,Js(e,r,o,s),a=e.memoizedState,l!==r||f!==a||ke.current||yt?(typeof d=="function"&&(Fo(e,n,d,r),a=e.memoizedState),(l=yt||ou(e,n,l,r,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ld(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:De(e.type,l),o.props=c,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=$e(a):(a=Se(n)?en:he.current,a=Un(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&lu(e,o,r,a),yt=!1,f=e.memoizedState,o.state=f,Js(e,r,o,s);var y=e.memoizedState;l!==h||f!==y||ke.current||yt?(typeof v=="function"&&(Fo(e,n,v,r),y=e.memoizedState),(c=yt||ou(e,n,c,r,f,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wo(t,e,n,r,i,s)}function Wo(t,e,n,r,s,i){Id(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xa(e,n,!1),ht(t,e,i);r=e.stateNode,Hp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dn(e,t.child,null,i),e.child=Dn(e,null,l,i)):pe(t,e,l,i),e.memoizedState=r.state,s&&Xa(e,n,!0),e.child}function Rd(t){var e=t.stateNode;e.pendingContext?Ya(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ya(t,e.context,!1),Hl(t,e.containerInfo)}function pu(t,e,n,r,s){return zn(),Ul(s),e.flags|=256,pe(t,e,n,r),e.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ld(t,e,n){var r=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(Q,s&1),t===null)return zo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wi(o,r,0,null),t=Zt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qo(n),e.memoizedState=Go,t):Xl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Wp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ot(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ot(l,i):(i=Zt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Go,r}return i=t.child,t=i.sibling,r=Ot(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xl(t,e){return e=wi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hs(t,e,n,r){return r!==null&&Ul(r),Dn(e,t.child,null,n),t=Xl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(E(422))),hs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wi({mode:"visible",children:r.children},s,0,null),i=Zt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dn(e,t.child,null,o),e.child.memoizedState=qo(o),e.memoizedState=Go,i);if(!(e.mode&1))return hs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=eo(i,r,void 0),hs(t,e,o,r)}if(l=(o&t.childLanes)!==0,_e||l){if(r=ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dt(t,s),We(r,t,s,-1))}return sa(),r=eo(Error(E(421))),hs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,be=Ct(s.nextSibling),Ne=e,K=!0,Ve=null,t!==null&&(Te[Oe++]=ot,Te[Oe++]=lt,Te[Oe++]=tn,ot=t.id,lt=t.overflow,tn=e),e=Xl(e,r.children),e.flags|=4096,e)}function mu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Do(t.return,e,n)}function to(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $d(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pe(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mu(t,n,e);else if(t.tag===19)mu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(H(Q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ys(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),to(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ys(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}to(e,!0,n,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ot(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ot(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gp(t,e,n){switch(e.tag){case 3:Rd(e),zn();break;case 5:ad(e);break;case 1:Se(e.type)&&Ws(e);break;case 4:Hl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;H(Ks,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(H(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Ld(t,e,n):(H(Q,Q.current&1),t=ht(t,e,n),t!==null?t.sibling:null);H(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $d(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,Od(t,e,n)}return ht(t,e,n)}var Md,Ko,Ud,zd;Md=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ko=function(){};Ud=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yt(Ye.current);var i=null;switch(n){case"input":s=go(t,s),r=go(t,r),i=[];break;case"select":s=Y({},s,{value:void 0}),r=Y({},r,{value:void 0}),i=[];break;case"textarea":s=wo(t,s),r=wo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}_o(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(br.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(br.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&W("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ir(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qp(t,e,n){var r=e.pendingProps;switch(Ml(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return Se(e.type)&&Hs(),ce(e),null;case 3:return r=e.stateNode,Fn(),G(ke),G(he),Gl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ve!==null&&(nl(Ve),Ve=null))),Ko(t,e),ce(e),null;case 5:Wl(e);var s=Yt(Ur.current);if(n=e.type,t!==null&&e.stateNode!=null)Ud(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ce(e),null}if(t=Yt(Ye.current),cs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qe]=e,r[$r]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<dr.length;s++)W(dr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":ja(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":ba(r,i),W("invalid",r)}_o(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&us(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&us(r.textContent,l,t),s=["children",""+l]):br.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":ts(r),Ea(r,i,!0);break;case"textarea":ts(r),Na(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qe]=e,t[$r]=r,Md(t,e,!1,!1),e.stateNode=t;e:{switch(o=ko(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<dr.length;s++)W(dr[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":ja(t,r),s=go(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Y({},r,{value:void 0}),W("invalid",t);break;case"textarea":ba(t,r),s=wo(t,r),W("invalid",t);break;default:s=r}_o(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?gc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&pc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Nr(t,a):typeof a=="number"&&Nr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(br.hasOwnProperty(i)?a!=null&&i==="onScroll"&&W("scroll",t):a!=null&&kl(t,i,a,o))}switch(n){case"input":ts(t),Ea(t,r,!1);break;case"textarea":ts(t),Na(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?An(t,!!r.multiple,i,!1):r.defaultValue!=null&&An(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ce(e),null;case 6:if(t&&e.stateNode!=null)zd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Yt(Ur.current),Yt(Ye.current),cs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qe]=e,(i=r.nodeValue!==n)&&(t=Ne,t!==null))switch(t.tag){case 3:us(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qe]=e,e.stateNode=r}return ce(e),null;case 13:if(G(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&be!==null&&e.mode&1&&!(e.flags&128))rd(),zn(),e.flags|=98560,i=!1;else if(i=cs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Qe]=e}else zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ce(e),i=!1}else Ve!==null&&(nl(Ve),Ve=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?ne===0&&(ne=3):sa())),e.updateQueue!==null&&(e.flags|=4),ce(e),null);case 4:return Fn(),Ko(t,e),t===null&&Rr(e.stateNode.containerInfo),ce(e),null;case 10:return Fl(e.type._context),ce(e),null;case 17:return Se(e.type)&&Hs(),ce(e),null;case 19:if(G(Q),i=e.memoizedState,i===null)return ce(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ir(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ys(t),o!==null){for(e.flags|=128,ir(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return H(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&Z()>Vn&&(e.flags|=128,r=!0,ir(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ys(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return ce(e),null}else 2*Z()-i.renderingStartTime>Vn&&n!==1073741824&&(e.flags|=128,r=!0,ir(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Z(),e.sibling=null,n=Q.current,H(Q,r?n&1|2:n&1),e):(ce(e),null);case 22:case 23:return ra(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ee&1073741824&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Kp(t,e){switch(Ml(e),e.tag){case 1:return Se(e.type)&&Hs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fn(),G(ke),G(he),Gl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wl(e),null;case 13:if(G(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Q),null;case 4:return Fn(),null;case 10:return Fl(e.type._context),null;case 22:case 23:return ra(),null;case 24:return null;default:return null}}var fs=!1,de=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,P=null;function Cn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(t,e,r)}else n.current=null}function Qo(t,e,n){try{n()}catch(r){X(t,e,r)}}var gu=!1;function Jp(t,e){if(Oo=Ds,t=Hc(),Ll(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Io={focusedElem:t,selectionRange:n},Ds=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,j=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:De(e.type,w),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){X(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=gu,gu=!1,y}function wr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qo(e,n,i)}s=s.next}while(s!==r)}}function vi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qe],delete e[$r],delete e[$o],delete e[Op],delete e[Ip])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fd(t){return t.tag===5||t.tag===3||t.tag===4}function vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(Yo(t,e,n),t=t.sibling;t!==null;)Yo(t,e,n),t=t.sibling}function Xo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xo(t,e,n),t=t.sibling;t!==null;)Xo(t,e,n),t=t.sibling}var oe=null,Fe=!1;function mt(t,e,n){for(n=n.child;n!==null;)Bd(t,e,n),n=n.sibling}function Bd(t,e,n){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(ui,n)}catch{}switch(n.tag){case 5:de||Cn(n,e);case 6:var r=oe,s=Fe;oe=null,mt(t,e,n),oe=r,Fe=s,oe!==null&&(Fe?(t=oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(Fe?(t=oe,n=n.stateNode,t.nodeType===8?Ki(t.parentNode,n):t.nodeType===1&&Ki(t,n),Tr(t)):Ki(oe,n.stateNode));break;case 4:r=oe,s=Fe,oe=n.stateNode.containerInfo,Fe=!0,mt(t,e,n),oe=r,Fe=s;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qo(n,e,o),s=s.next}while(s!==r)}mt(t,e,n);break;case 1:if(!de&&(Cn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){X(n,e,l)}mt(t,e,n);break;case 21:mt(t,e,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,mt(t,e,n),de=r):mt(t,e,n);break;default:mt(t,e,n)}}function yu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qp),e.forEach(function(r){var s=im.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ue(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:oe=l.stateNode,Fe=!1;break e;case 3:oe=l.stateNode.containerInfo,Fe=!0;break e;case 4:oe=l.stateNode.containerInfo,Fe=!0;break e}l=l.return}if(oe===null)throw Error(E(160));Bd(i,o,s),oe=null,Fe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){X(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}function Vd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ue(e,t),qe(t),r&4){try{wr(3,t,t.return),vi(3,t)}catch(w){X(t,t.return,w)}try{wr(5,t,t.return)}catch(w){X(t,t.return,w)}}break;case 1:Ue(e,t),qe(t),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Ue(e,t),qe(t),r&512&&n!==null&&Cn(n,n.return),t.flags&32){var s=t.stateNode;try{Nr(s,"")}catch(w){X(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dc(s,i),ko(l,o);var c=ko(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?gc(s,h):d==="dangerouslySetInnerHTML"?pc(s,h):d==="children"?Nr(s,h):kl(s,d,h,c)}switch(l){case"input":vo(s,i);break;case"textarea":hc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?An(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?An(s,!!i.multiple,i.defaultValue,!0):An(s,!!i.multiple,i.multiple?[]:"",!1))}s[$r]=i}catch(w){X(t,t.return,w)}}break;case 6:if(Ue(e,t),qe(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){X(t,t.return,w)}}break;case 3:if(Ue(e,t),qe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(e.containerInfo)}catch(w){X(t,t.return,w)}break;case 4:Ue(e,t),qe(t);break;case 13:Ue(e,t),qe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ta=Z())),r&4&&yu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(de=(c=de)||d,Ue(e,t),de=c):Ue(e,t),qe(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:wr(4,f,f.return);break;case 1:Cn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){X(r,n,w)}}break;case 5:Cn(f,f.return);break;case 22:if(f.memoizedState!==null){xu(h);continue}}v!==null?(v.return=f,P=v):xu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=mc("display",o))}catch(w){X(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){X(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ue(e,t),qe(t),r&4&&yu(t);break;case 21:break;default:Ue(e,t),qe(t)}}function qe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nr(s,""),r.flags&=-33);var i=vu(t);Xo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=vu(t);Yo(t,l,o);break;default:throw Error(E(161))}}catch(a){X(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,n){P=t,Hd(t)}function Hd(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||de;l=fs;var c=de;if(fs=o,(de=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?_u(s):a!==null?(a.return=o,P=a):_u(s);for(;i!==null;)P=i,Hd(i),i=i.sibling;P=s,fs=l,de=c}wu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):wu(t)}}function wu(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||vi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!de)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:De(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ru(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ru(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Tr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}de||e.flags&512&&Jo(e)}catch(f){X(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function xu(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function _u(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vi(4,e)}catch(a){X(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){X(e,s,a)}}var i=e.return;try{Jo(e)}catch(a){X(e,i,a)}break;case 5:var o=e.return;try{Jo(e)}catch(a){X(e,o,a)}}}catch(a){X(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Xp=Math.ceil,ei=ft.ReactCurrentDispatcher,Zl=ft.ReactCurrentOwner,Re=ft.ReactCurrentBatchConfig,z=0,ie=null,ee=null,le=0,Ee=0,Pn=zt(0),ne=0,Br=null,rn=0,yi=0,ea=0,xr=null,we=null,ta=0,Vn=1/0,rt=null,ti=!1,Zo=null,At=null,ps=!1,jt=null,ni=0,_r=0,el=null,Ts=-1,Os=0;function me(){return z&6?Z():Ts!==-1?Ts:Ts=Z()}function Tt(t){return t.mode&1?z&2&&le!==0?le&-le:Lp.transition!==null?(Os===0&&(Os=Cc()),Os):(t=F,t!==0||(t=window.event,t=t===void 0?16:Lc(t.type)),t):1}function We(t,e,n,r){if(50<_r)throw _r=0,el=null,Error(E(185));Wr(t,n,r),(!(z&2)||t!==ie)&&(t===ie&&(!(z&2)&&(yi|=n),ne===4&&_t(t,le)),je(t,r),n===1&&z===0&&!(e.mode&1)&&(Vn=Z()+500,pi&&Dt()))}function je(t,e){var n=t.callbackNode;Lf(t,e);var r=zs(t,t===ie?le:0);if(r===0)n!==null&&Aa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Aa(n),e===1)t.tag===0?Rp(ku.bind(null,t)):ed(ku.bind(null,t)),Ap(function(){!(z&6)&&Dt()}),n=null;else{switch(Pc(r)){case 1:n=Nl;break;case 4:n=bc;break;case 16:n=Us;break;case 536870912:n=Nc;break;default:n=Us}n=Xd(n,Wd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wd(t,e){if(Ts=-1,Os=0,z&6)throw Error(E(327));var n=t.callbackNode;if(Ln()&&t.callbackNode!==n)return null;var r=zs(t,t===ie?le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ri(t,r);else{e=r;var s=z;z|=2;var i=qd();(ie!==t||le!==e)&&(rt=null,Vn=Z()+500,Xt(t,e));do try{tm();break}catch(l){Gd(t,l)}while(!0);Dl(),ei.current=i,z=s,ee!==null?e=0:(ie=null,le=0,e=ne)}if(e!==0){if(e===2&&(s=No(t),s!==0&&(r=s,e=tl(t,s))),e===1)throw n=Br,Xt(t,0),_t(t,r),je(t,Z()),n;if(e===6)_t(t,r);else{if(s=t.current.alternate,!(r&30)&&!Zp(s)&&(e=ri(t,r),e===2&&(i=No(t),i!==0&&(r=i,e=tl(t,i))),e===1))throw n=Br,Xt(t,0),_t(t,r),je(t,Z()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Gt(t,we,rt);break;case 3:if(_t(t,r),(r&130023424)===r&&(e=ta+500-Z(),10<e)){if(zs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lo(Gt.bind(null,t,we,rt),e);break}Gt(t,we,rt);break;case 4:if(_t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-He(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Z()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xp(r/1960))-r,10<r){t.timeoutHandle=Lo(Gt.bind(null,t,we,rt),r);break}Gt(t,we,rt);break;case 5:Gt(t,we,rt);break;default:throw Error(E(329))}}}return je(t,Z()),t.callbackNode===n?Wd.bind(null,t):null}function tl(t,e){var n=xr;return t.current.memoizedState.isDehydrated&&(Xt(t,e).flags|=256),t=ri(t,e),t!==2&&(e=we,we=n,e!==null&&nl(e)),t}function nl(t){we===null?we=t:we.push.apply(we,t)}function Zp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~ea,e&=~yi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-He(e),r=1<<n;t[n]=-1,e&=~r}}function ku(t){if(z&6)throw Error(E(327));Ln();var e=zs(t,0);if(!(e&1))return je(t,Z()),null;var n=ri(t,e);if(t.tag!==0&&n===2){var r=No(t);r!==0&&(e=r,n=tl(t,r))}if(n===1)throw n=Br,Xt(t,0),_t(t,e),je(t,Z()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,we,rt),je(t,Z()),null}function na(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(Vn=Z()+500,pi&&Dt())}}function sn(t){jt!==null&&jt.tag===0&&!(z&6)&&Ln();var e=z;z|=1;var n=Re.transition,r=F;try{if(Re.transition=null,F=1,t)return t()}finally{F=r,Re.transition=n,z=e,!(z&6)&&Dt()}}function ra(){Ee=Pn.current,G(Pn)}function Xt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pp(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(Ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hs();break;case 3:Fn(),G(ke),G(he),Gl();break;case 5:Wl(r);break;case 4:Fn();break;case 13:G(Q);break;case 19:G(Q);break;case 10:Fl(r.type._context);break;case 22:case 23:ra()}n=n.return}if(ie=t,ee=t=Ot(t.current,null),le=Ee=e,ne=0,Br=null,ea=yi=rn=0,we=xr=null,Jt!==null){for(e=0;e<Jt.length;e++)if(n=Jt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Jt=null}return t}function Gd(t,e){do{var n=ee;try{if(Dl(),Cs.current=Zs,Xs){for(var r=J.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xs=!1}if(nn=0,se=te=J=null,yr=!1,zr=0,Zl.current=null,n===null||n.return===null){ne=1,Br=e,ee=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=uu(o);if(v!==null){v.flags&=-257,cu(v,o,l,i,e),v.mode&1&&au(i,c,e),e=v,a=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(a),e.updateQueue=w}else y.add(a);break e}else{if(!(e&1)){au(i,c,e),sa();break e}a=Error(E(426))}}else if(K&&l.mode&1){var j=uu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),cu(j,o,l,i,e),Ul(Bn(a,l));break e}}i=a=Bn(a,l),ne!==4&&(ne=2),xr===null?xr=[i]:xr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Pd(i,a,e);nu(i,g);break e;case 1:l=a;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(At===null||!At.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ad(i,l,e);nu(i,x);break e}}i=i.return}while(i!==null)}Qd(n)}catch(b){e=b,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function qd(){var t=ei.current;return ei.current=Zs,t===null?Zs:t}function sa(){(ne===0||ne===3||ne===2)&&(ne=4),ie===null||!(rn&268435455)&&!(yi&268435455)||_t(ie,le)}function ri(t,e){var n=z;z|=2;var r=qd();(ie!==t||le!==e)&&(rt=null,Xt(t,e));do try{em();break}catch(s){Gd(t,s)}while(!0);if(Dl(),z=n,ei.current=r,ee!==null)throw Error(E(261));return ie=null,le=0,ne}function em(){for(;ee!==null;)Kd(ee)}function tm(){for(;ee!==null&&!bf();)Kd(ee)}function Kd(t){var e=Yd(t.alternate,t,Ee);t.memoizedProps=t.pendingProps,e===null?Qd(t):ee=e,Zl.current=null}function Qd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kp(n,e),n!==null){n.flags&=32767,ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,ee=null;return}}else if(n=qp(n,e,Ee),n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);ne===0&&(ne=5)}function Gt(t,e,n){var r=F,s=Re.transition;try{Re.transition=null,F=1,nm(t,e,n,r)}finally{Re.transition=s,F=r}return null}function nm(t,e,n,r){do Ln();while(jt!==null);if(z&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($f(t,i),t===ie&&(ee=ie=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,Xd(Us,function(){return Ln(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Re.transition,Re.transition=null;var o=F;F=1;var l=z;z|=4,Zl.current=null,Jp(t,n),Vd(n,t),kp(Io),Ds=!!Oo,Io=Oo=null,t.current=n,Yp(n),Nf(),z=l,F=o,Re.transition=i}else t.current=n;if(ps&&(ps=!1,jt=t,ni=s),i=t.pendingLanes,i===0&&(At=null),Af(n.stateNode),je(t,Z()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,t=Zo,Zo=null,t;return ni&1&&t.tag!==0&&Ln(),i=t.pendingLanes,i&1?t===el?_r++:(_r=0,el=t):_r=0,Dt(),null}function Ln(){if(jt!==null){var t=Pc(ni),e=Re.transition,n=F;try{if(Re.transition=null,F=16>t?16:t,jt===null)var r=!1;else{if(t=jt,jt=null,ni=0,z&6)throw Error(E(331));var s=z;for(z|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:wr(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,v=d.return;if(Dd(d),d===c){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vi(9,l)}}catch(b){X(l,l.return,b)}if(l===o){P=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,P=x;break e}P=l.return}}if(z=s,Dt(),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(ui,t)}catch{}r=!0}return r}finally{F=n,Re.transition=e}}return!1}function Su(t,e,n){e=Bn(n,e),e=Pd(t,e,1),t=Pt(t,e,1),e=me(),t!==null&&(Wr(t,1,e),je(t,e))}function X(t,e,n){if(t.tag===3)Su(t,t,n);else for(;e!==null;){if(e.tag===3){Su(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(At===null||!At.has(r))){t=Bn(n,t),t=Ad(e,t,1),e=Pt(e,t,1),t=me(),e!==null&&(Wr(e,1,t),je(e,t));break}}e=e.return}}function rm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=me(),t.pingedLanes|=t.suspendedLanes&n,ie===t&&(le&n)===n&&(ne===4||ne===3&&(le&130023424)===le&&500>Z()-ta?Xt(t,0):ea|=n),je(t,e)}function Jd(t,e){e===0&&(t.mode&1?(e=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):e=1);var n=me();t=dt(t,e),t!==null&&(Wr(t,e,n),je(t,n))}function sm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jd(t,n)}function im(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Jd(t,n)}var Yd;Yd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ke.current)_e=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _e=!1,Gp(t,e,n);_e=!!(t.flags&131072)}else _e=!1,K&&e.flags&1048576&&td(e,qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var s=Un(e,he.current);Rn(e,n),s=Kl(null,e,r,t,s,n);var i=Ql();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Se(r)?(i=!0,Ws(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(e),s.updater=gi,e.stateNode=s,s._reactInternals=e,Bo(e,r,t,n),e=Wo(null,e,r,!0,i,n)):(e.tag=0,K&&i&&$l(e),pe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lm(r),t=De(r,t),s){case 0:e=Ho(null,e,r,t,n);break e;case 1:e=fu(null,e,r,t,n);break e;case 11:e=du(null,e,r,t,n);break e;case 14:e=hu(null,e,r,De(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),Ho(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),fu(t,e,r,s,n);case 3:e:{if(Rd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ld(t,e),Js(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bn(Error(E(423)),e),e=pu(t,e,r,n,s);break e}else if(r!==s){s=Bn(Error(E(424)),e),e=pu(t,e,r,n,s);break e}else for(be=Ct(e.stateNode.containerInfo.firstChild),Ne=e,K=!0,Ve=null,n=id(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){e=ht(t,e,n);break e}pe(t,e,r,n)}e=e.child}return e;case 5:return ad(e),t===null&&zo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ro(r,s)?o=null:i!==null&&Ro(r,i)&&(e.flags|=32),Id(t,e),pe(t,e,o,n),e.child;case 6:return t===null&&zo(e),null;case 13:return Ld(t,e,n);case 4:return Hl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dn(e,null,r,n):pe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),du(t,e,r,s,n);case 7:return pe(t,e,e.pendingProps,n),e.child;case 8:return pe(t,e,e.pendingProps.children,n),e.child;case 12:return pe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,H(Ks,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!ke.current){e=ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=at(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Do(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Do(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rn(e,n),s=$e(s),r=r(s),e.flags|=1,pe(t,e,r,n),e.child;case 14:return r=e.type,s=De(r,e.pendingProps),s=De(r.type,s),hu(t,e,r,s,n);case 15:return Td(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),As(t,e),e.tag=1,Se(r)?(t=!0,Ws(e)):t=!1,Rn(e,n),Cd(e,r,s),Bo(e,r,s,n),Wo(null,e,r,!0,t,n);case 19:return $d(t,e,n);case 22:return Od(t,e,n)}throw Error(E(156,e.tag))};function Xd(t,e){return Ec(t,e)}function om(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,n,r){return new om(t,e,n,r)}function ia(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lm(t){if(typeof t=="function")return ia(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jl)return 11;if(t===El)return 14}return 2}function Ot(t,e){var n=t.alternate;return n===null?(n=Ie(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Is(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ia(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wn:return Zt(n.children,s,i,e);case Sl:o=8,s|=8;break;case ho:return t=Ie(12,n,e,s|2),t.elementType=ho,t.lanes=i,t;case fo:return t=Ie(13,n,e,s),t.elementType=fo,t.lanes=i,t;case po:return t=Ie(19,n,e,s),t.elementType=po,t.lanes=i,t;case ac:return wi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oc:o=10;break e;case lc:o=9;break e;case jl:o=11;break e;case El:o=14;break e;case vt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ie(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zt(t,e,n,r){return t=Ie(7,t,r,e),t.lanes=n,t}function wi(t,e,n,r){return t=Ie(22,t,r,e),t.elementType=ac,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=Ie(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function am(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oa(t,e,n,r,s,i,o,l,a){return t=new am(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),t}function um(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zd(t){if(!t)return $t;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Se(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Se(n))return Zc(t,n,e)}return e}function eh(t,e,n,r,s,i,o,l,a){return t=oa(n,r,!0,t,s,i,o,l,a),t.context=Zd(null),n=t.current,r=me(),s=Tt(n),i=at(r,s),i.callback=e??null,Pt(n,i,s),t.current.lanes=s,Wr(t,s,r),je(t,r),t}function xi(t,e,n,r){var s=e.current,i=me(),o=Tt(s);return n=Zd(n),e.context===null?e.context=n:e.pendingContext=n,e=at(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pt(s,e,o),t!==null&&(We(t,s,o,i),Ns(t,s,o)),o}function si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ju(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function la(t,e){ju(t,e),(t=t.alternate)&&ju(t,e)}function cm(){return null}var th=typeof reportError=="function"?reportError:function(t){console.error(t)};function aa(t){this._internalRoot=t}_i.prototype.render=aa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));xi(t,e,null,null)};_i.prototype.unmount=aa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sn(function(){xi(null,t,null,null)}),e[ct]=null}};function _i(t){this._internalRoot=t}_i.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&Rc(t)}};function ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ki(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function dm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=si(o);i.call(c)}}var o=eh(e,r,t,0,null,!1,!1,"",Eu);return t._reactRootContainer=o,t[ct]=o.current,Rr(t.nodeType===8?t.parentNode:t),sn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=si(a);l.call(c)}}var a=oa(t,0,!1,null,null,!1,!1,"",Eu);return t._reactRootContainer=a,t[ct]=a.current,Rr(t.nodeType===8?t.parentNode:t),sn(function(){xi(e,a,n,r)}),a}function Si(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=si(o);l.call(a)}}xi(e,o,t,s)}else o=dm(n,e,t,s,r);return si(o)}Ac=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cr(e.pendingLanes);n!==0&&(Cl(e,n|1),je(e,Z()),!(z&6)&&(Vn=Z()+500,Dt()))}break;case 13:sn(function(){var r=dt(t,1);if(r!==null){var s=me();We(r,t,1,s)}}),la(t,1)}};Pl=function(t){if(t.tag===13){var e=dt(t,134217728);if(e!==null){var n=me();We(e,t,134217728,n)}la(t,134217728)}};Tc=function(t){if(t.tag===13){var e=Tt(t),n=dt(t,e);if(n!==null){var r=me();We(n,t,e,r)}la(t,e)}};Oc=function(){return F};Ic=function(t,e){var n=F;try{return F=t,e()}finally{F=n}};jo=function(t,e,n){switch(e){case"input":if(vo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fi(r);if(!s)throw Error(E(90));cc(r),vo(r,s)}}}break;case"textarea":hc(t,n);break;case"select":e=n.value,e!=null&&An(t,!!n.multiple,e,!1)}};wc=na;xc=sn;var hm={usingClientEntryPoint:!1,Events:[qr,Sn,fi,vc,yc,na]},or={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:or.bundleType,version:or.version,rendererPackageName:or.rendererPackageName,rendererConfig:or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sc(t),t===null?null:t.stateNode},findFiberByHostInstance:or.findFiberByHostInstance||cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ui=ms.inject(fm),Je=ms}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm;Pe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ua(e))throw Error(E(200));return um(t,e,null,n)};Pe.createRoot=function(t,e){if(!ua(t))throw Error(E(299));var n=!1,r="",s=th;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=oa(t,1,!1,null,null,n,!1,r,s),t[ct]=e.current,Rr(t.nodeType===8?t.parentNode:t),new aa(e)};Pe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Sc(e),t=t===null?null:t.stateNode,t};Pe.flushSync=function(t){return sn(t)};Pe.hydrate=function(t,e,n){if(!ki(e))throw Error(E(200));return Si(null,t,e,!0,n)};Pe.hydrateRoot=function(t,e,n){if(!ua(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=th;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eh(e,null,t,1,n??null,s,!1,i,o),t[ct]=e.current,Rr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _i(e)};Pe.render=function(t,e,n){if(!ki(e))throw Error(E(200));return Si(null,t,e,!1,n)};Pe.unmountComponentAtNode=function(t){if(!ki(t))throw Error(E(40));return t._reactRootContainer?(sn(function(){Si(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Pe.unstable_batchedUpdates=na;Pe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ki(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Si(t,e,n,!1,r)};Pe.version="18.3.1-next-f1338f8080-20240426";function nh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nh)}catch(t){console.error(t)}}nh(),nc.exports=Pe;var pm=nc.exports,rh,bu=pm;rh=bu.createRoot,bu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>N.createElement("svg",{ref:d,...mm,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gm(t)}`,l].join(" "),...c},[...e.map(([h,f])=>N.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=q("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=q("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Im="modulepreload",Rm=function(t){return"/"+t},Nu={},Jr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Rm(a),a in Nu)return;Nu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Im,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Lm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jr(async()=>{const{default:r}=await Promise.resolve().then(()=>Kn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ca extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $m extends ca{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mm extends ca{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Um extends ca{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ol||(ol={}));var zm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Dm{constructor(e,{headers:n={},customFetch:r,region:s=ol.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Lm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return zm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(y=>{throw new $m(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Mm(d);if(!d.ok)throw new Um(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var xe={},da={},ji={},Yr={},Ei={},bi={},Fm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hn=Fm();const Bm=Hn.fetch,lh=Hn.fetch.bind(Hn),ah=Hn.Headers,Vm=Hn.Request,Hm=Hn.Response,Kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ah,Request:Vm,Response:Hm,default:lh,fetch:Bm},Symbol.toStringTag,{value:"Module"})),Wm=Fh(Kn);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});let Gm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ni.default=Gm;var uh=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});const qm=uh(Wm),Km=uh(Ni);let Qm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new Km.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};bi.default=Qm;var Jm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const Ym=Jm(bi);let Xm=class extends Ym.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ei.default=Xm;var Zm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});const eg=Zm(Ei);let tg=class extends eg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Yr.default=tg;var ng=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});const lr=ng(Yr);let rg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new lr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new lr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new lr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new lr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new lr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ji.default=rg;var Ci={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.version=void 0;Pi.version="0.0.0-automated";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DEFAULT_HEADERS=void 0;const sg=Pi;Ci.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sg.version}`};var ch=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});const ig=ch(ji),og=ch(Yr),lg=Ci;let ag=class dh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},lg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new ig.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new og.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};da.default=ag;var Qn=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const hh=Qn(da);xe.PostgrestClient=hh.default;const fh=Qn(ji);xe.PostgrestQueryBuilder=fh.default;const ph=Qn(Yr);xe.PostgrestFilterBuilder=ph.default;const mh=Qn(Ei);xe.PostgrestTransformBuilder=mh.default;const gh=Qn(bi);xe.PostgrestBuilder=gh.default;const vh=Qn(Ni);xe.PostgrestError=vh.default;var ug=xe.default={PostgrestClient:hh.default,PostgrestQueryBuilder:fh.default,PostgrestFilterBuilder:ph.default,PostgrestTransformBuilder:mh.default,PostgrestBuilder:gh.default,PostgrestError:vh.default};const{PostgrestClient:cg,PostgrestQueryBuilder:Cv,PostgrestFilterBuilder:Pv,PostgrestTransformBuilder:Av,PostgrestBuilder:Tv,PostgrestError:Ov}=ug;let ll;typeof window>"u"?ll=require("ws"):ll=window.WebSocket;const dg=ll,hg="2.11.10",fg={"X-Client-Info":`realtime-js/${hg}`},pg="1.0.0",yh=1e4,mg=1e3;var $n;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($n||($n={}));var fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fe||(fe={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var al;(function(t){t.websocket="websocket"})(al||(al={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class gg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class wh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Cu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=vg(o,t,e,s),i),{})},vg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?xh(i,o):ul(o)},xh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return _g(e,n)}switch(t){case V.bool:return yg(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return wg(e);case V.json:case V.jsonb:return xg(e);case V.timestamp:return kg(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return ul(e);default:return ul(e)}},ul=t=>t,yg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},_g=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>xh(e,l))}return t},kg=t=>typeof t=="string"?t.replace(" ","T"):t,_h=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class so{constructor(e,n,r={},s=yh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pu||(Pu={}));class kr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=kr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),y=d.filter(j=>v.indexOf(j.presence_ref)<0),w=h.filter(j=>f.indexOf(j.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(a[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Au||(Au={}));var Tu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tu||(Tu={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class ha{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,Be.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kr(this),this.broadcastEndpointURL=_h(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(st.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(st.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<v;w++){const j=f[w],{filter:{event:g,schema:p,table:m,filter:x}}=j,b=d&&d[w];if(b&&b.event===g&&b.schema===p&&b.table===m&&b.filter===x)y.push(Object.assign(Object.assign({},j),{id:b.id}));else{this.unsubscribe(),this.state=fe.errored,e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(st.SUBSCRIBED);return}}).receive("error",d=>{this.state=fe.errored,e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new so(this,Be.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Be;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,j;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(w=v.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,j,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const x=v.id,b=(y=v.filter)===null||y===void 0?void 0:y.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:j,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(f,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ha.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Cu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Cu(e.columns,e.old_record)),n}}const Ou=()=>{},Sg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jg{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=fg,this.params={},this.timeout=yh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new gg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Jr(async()=>{const{default:a}=await Promise.resolve().then(()=>Kn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${al.websocket}`,this.httpEndpoint=_h(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Eg(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pg}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return Kt.Connecting;case $n.open:return Kt.Open;case $n.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ha(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Be.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(mg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Sg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Eg{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=$n.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class fa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bg extends fa{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cl extends fa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ng=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jr(async()=>{const{default:r}=await Promise.resolve().then(()=>Kn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Cg=()=>Ng(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jr(()=>Promise.resolve().then(()=>Kn),void 0)).Response:Response}),dl=t=>{if(Array.isArray(t))return t.map(n=>dl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=dl(r)}),e};var an=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const io=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pg=(t,e,n)=>an(void 0,void 0,void 0,function*(){const r=yield Cg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new bg(io(s),t.status||500))}).catch(s=>{e(new cl(io(s),s))}):e(new cl(io(t),t))}),Ag=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Xr(t,e,n,r,s,i){return an(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Ag(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Pg(a,l,r))})})}function ii(t,e,n,r){return an(this,void 0,void 0,function*(){return Xr(t,"GET",e,n,r)})}function wt(t,e,n,r,s){return an(this,void 0,void 0,function*(){return Xr(t,"POST",e,r,s,n)})}function Tg(t,e,n,r,s){return an(this,void 0,void 0,function*(){return Xr(t,"PUT",e,r,s,n)})}function Og(t,e,n,r){return an(this,void 0,void 0,function*(){return Xr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Sh(t,e,n,r,s){return an(this,void 0,void 0,function*(){return Xr(t,"DELETE",e,r,s,n)})}var ye=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Ig={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=kh(s)}uploadOrUpdate(e,n,r,s){return ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Iu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Iu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(re(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new fa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ye(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ye(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(e,n){return ye(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ii(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}})}info(e){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ii(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dl(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Og(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof cl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return ye(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ig),n),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Lg="2.7.1",$g={"X-Client-Info":`storage-js/${Lg}`};var fn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Mg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},$g),n),this.fetch=kh(r)}listBuckets(){return fn(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return fn(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return fn(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return fn(this,void 0,void 0,function*(){try{return{data:yield Tg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return fn(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fn(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}}class Ug extends Mg{constructor(e,n={},r){super(e,n,r)}from(e){return new Rg(this.url,this.headers,e,this.fetch)}}const zg="2.50.0";let hr="";typeof Deno<"u"?hr="deno":typeof document<"u"?hr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hr="react-native":hr="node";const Dg={"X-Client-Info":`supabase-js-${hr}/${zg}`},Fg={headers:Dg},Bg={schema:"public"},Vg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hg={};var Wg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=lh:e=fetch,(...n)=>e(...n)},qg=()=>typeof Headers>"u"?ah:Headers,Kg=(t,e,n)=>{const r=Gg(n),s=qg();return(i,o)=>Wg(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Qg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function Jg(t){return t.endsWith("/")?t:t+"/"}function Yg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Qg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const jh="2.70.0",vn=30*1e3,hl=3,oo=hl*vn,Xg="http://localhost:9999",Zg="supabase.auth.token",e0={"X-Client-Info":`gotrue-js/${jh}`},fl="X-Supabase-Api-Version",Eh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n0=6e5;class pa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class r0 extends pa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function s0(t){return L(t)&&t.name==="AuthApiError"}class bh extends pa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ft extends pa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class gt extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i0(t){return L(t)&&t.name==="AuthSessionMissingError"}class gs extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends Ft{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ys extends Ft{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function o0(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ru extends Ft{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pl extends Ft{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lo(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Lu extends Ft{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sr extends Ft{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$u=` 	
\r=`.split(""),l0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$u.length;e+=1)t[$u[e].charCodeAt(0)]=-2;for(let e=0;e<oi.length;e+=1)t[oi[e].charCodeAt(0)]=e;return t})();function Mu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(oi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(oi[r]),e.queuedBits-=6}}function Nh(t,e,n){const r=l0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Uu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{c0(o,r,n)};for(let o=0;o<t.length;o+=1)Nh(t.charCodeAt(o),s,i);return e.join("")}function a0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function u0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}a0(r,e)}}function c0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function d0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Nh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function h0(t){const e=[];return u0(t,n=>e.push(n)),new Uint8Array(e)}function f0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Mu(s,n,r)),Mu(null,n,r),e.join("")}function p0(t){return Math.round(Date.now()/1e3)+t}function m0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},jr=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function g0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ch=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jr(async()=>{const{default:r}=await Promise.resolve().then(()=>Kn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},v0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ph=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ws=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xs=async(t,e)=>{await t.removeItem(e)};class Ai{constructor(){this.promise=new Ai.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ai.promiseConstructor=Promise;function ao(t){const e=t.split(".");if(e.length!==3)throw new Sr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!t0.test(e[r]))throw new Sr("JWT not in base64url format");return{header:JSON.parse(Uu(e[0])),payload:JSON.parse(Uu(e[1])),signature:d0(e[2]),raw:{header:e[0],payload:e[1]}}}async function y0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function w0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function x0(t){return("0"+t.toString(16)).substr(-2)}function _0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,x0).join("")}async function k0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function S0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await k0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(t,e,n=!1){const r=_0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ph(t,`${e}-code-verifier`,s);const i=await S0(r);return[i,r===i?"plain":"s256"]}const j0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E0(t){const e=t.headers.get(fl);if(!e||!e.match(j0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function N0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const C0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mn(t){if(!C0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var P0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A0=[502,503,504];async function zu(t){var e;if(!v0(t))throw new pl(qt(t),0);if(A0.includes(t.status))throw new pl(qt(t),t.status);let n;try{n=await t.json()}catch(i){throw new bh(qt(i),i)}let r;const s=E0(t);if(s&&s.getTime()>=Eh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lu(qt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lu(qt(n),t.status,n.weak_password.reasons);throw new r0(qt(n),t.status||500,r)}const T0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[fl]||(i[fl]=Eh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await O0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function O0(t,e,n,r,s,i){const o=T0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new pl(qt(a),0)}if(l.ok||await zu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await zu(a)}}function nt(t){var e;let n=null;$0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=p0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Du(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function I0(t){return{data:t,error:null}}function R0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=P0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function L0(t){return t}function $0(t){return t.access_token&&t.refresh_token&&t.expires_in}const uo=["global","local","others"];var M0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class U0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ch(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=uo[0]){if(uo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uo.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=M0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:R0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:L0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);c[`${j}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){mn(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){mn(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){mn(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){mn(e.userId);try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){mn(e.userId),mn(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const z0={getItem:t=>jr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{jr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{jr()&&globalThis.localStorage.removeItem(t)}};function Fu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function D0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&jr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ah extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class F0 extends Ah{}async function B0(t,e,n){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new F0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}D0();const V0={url:Xg,storageKey:Zg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bu(t,e,n){return await n()}class Vr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vr.nextInstanceID,Vr.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},V0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new U0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ch(s.fetch),this.lock=s.lock||Bu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=B0:this.lock=Bu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jr()?this.storage=z0:(this.memoryStorage={},this.storage=Fu(this.memoryStorage)):(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=g0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),o0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new bh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await pn(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:nt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nt})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Du})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Du})}else throw new vs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,f,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:j,wallet:g,statement:p,options:m}=e;let x;if(ze())if(typeof g=="object")x=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:j,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:f0(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:nt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new gs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(L(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await ws(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nt});if(await xs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new gs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pn(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new vs("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pn(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:I0})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vs("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<oo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(n){if(L(n))return i0(n)&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await pn(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:kt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ao(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ze())throw new ys("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ys(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ru("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ru("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new ys("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(s0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=m0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pn(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ze()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await w0(async s=>(s>0&&await y0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+o-r<vn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ws(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<oo;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${oo}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),lo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ai;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return lo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ph(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vn}ms, refresh threshold is ${hl} ticks`),s<=hl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ah)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await pn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ao(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+n0>Date.now()))return r;const{data:s,error:i}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Sr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Sr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=ao(r);if(b0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=N0(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,h0(`${l}.${a}`)))throw new Sr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}Vr.nextInstanceID=0;const H0=Vr;class W0 extends H0{constructor(e){super(e)}}var G0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class q0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Jg(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Bg,realtime:Hg,auth:Object.assign(Object.assign({},Vg),{storageKey:c}),global:Fg},h=Yg(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Kg(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new cg(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Dm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ug(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return G0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new jg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K0=(t,e,n)=>new q0(t,e,n),Q0="https://ifvfgazofiztxqcfgtet.supabase.co",J0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmdmZnYXpvZml6dHhxY2ZndGV0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4NjUxMzUsImV4cCI6MjA2NjQ0MTEzNX0.Z2EWiOrKjHuBiJFx5I6fSeyQYnapdtRRUTUv16-zKYU",Rt=K0(Q0,J0,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),_s=Rt.auth;async function Y0(t,e){try{const n=Date.now(),r=Math.random().toString(36).substring(2,15),s=t.name.split(".").pop()||"bin",i=`${e}_${n}_${r}.${s}`,o=`${e}s/${i}`;console.log("🚀 Uploading file to Supabase Storage:",o);const{data:l,error:a}=await Rt.storage.from("posts-media").upload(o,t,{cacheControl:"3600",upsert:!1});if(a)throw console.error("❌ Upload error:",a),new Error(`Failed to upload file: ${a.message}`);console.log("✅ File uploaded successfully:",l.path);const{data:c}=Rt.storage.from("posts-media").getPublicUrl(l.path);return console.log("🔗 Public URL generated:",c.publicUrl),c.publicUrl}catch(n){throw console.error("💥 Upload to storage failed:",n),n}}async function X0(t){try{console.log("📝 Posting analysis with user data:",{user_id:t.user_id,username:t.username,title:t.title});const{error:e}=await Rt.from("posts").insert([{media_url:t.media_url,media_type:t.media_type,title:t.title,style:t.style,analysis_data:t.analysis,user_id:t.user_id,username:t.username}]);return e?(console.error("❌ Supabase insert error:",e),{success:!1,error:e.message}):(console.log("✅ Analysis posted successfully"),{success:!0})}catch(e){return console.error("💥 Post analysis error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async function Th(t=12,e=0,n="new",r){try{console.log(`📡 Fetching posts: limit=${t}, offset=${e}, sortOrder=${n}, userId=${r||"all"}`);let s=Rt.from("posts").select("id, media_url, media_type, title, style, created_at, analysis_data, username, user_id");switch(r&&(s=s.eq("user_id",r)),n){case"new":s=s.order("created_at",{ascending:!1});break;case"top":s=s.order("created_at",{ascending:!1});break;case"hot":s=s.order("created_at",{ascending:!1});break;default:s=s.order("created_at",{ascending:!1})}const{data:i,error:o}=await s.range(e,e+t).limit(t+1);if(o)return console.error("❌ Supabase error:",o),{data:null,error:o.message,hasMore:!1};const l=i.length>t,a=l?i.slice(0,t):i;return console.log(`📊 Loaded ${a.length} posts, hasMore: ${l}, sortOrder: ${n}, userId: ${r||"all"}`),{data:a,hasMore:l}}catch(s){return console.error("💥 Get posts error:",s),{data:null,error:s instanceof Error?s.message:"Unknown error occurred",hasMore:!1}}}const Oh=N.createContext(void 0),Z0=({children:t})=>{console.time("Auth Boot");const[e,n]=N.useState(null),[r,s]=N.useState(null),[i,o]=N.useState(!0);N.useEffect(()=>{let h=!0;(async()=>{console.log("🔄 initializeAuth: Starting authentication initialization...");try{const{data:{session:y},error:w}=await _s.getSession();if(w){console.error("❌ initializeAuth: Error getting session:",w),h&&(n(null),o(!1),console.timeEnd("Auth Boot"));return}y!=null&&y.user?(console.log("✅ initializeAuth: Session found for user:",y.user.id),h&&n({id:y.user.id,email:y.user.email||void 0})):(console.log("🚫 initializeAuth: No session found"),h&&n(null))}catch(y){console.error("💥 initializeAuth: Exception occurred:",y),h&&n(null)}finally{h&&(console.log("✅ initializeAuth: Authentication initialization complete"),o(!1),console.timeEnd("Auth Boot"))}})();const{data:{subscription:v}}=_s.onAuthStateChange(async(y,w)=>{var j;console.log("📡 onAuthStateChange: Auth state changed:",y,(j=w==null?void 0:w.user)==null?void 0:j.id),h&&(y==="SIGNED_IN"&&(w!=null&&w.user)?(console.log("🔐 onAuthStateChange: User signed in"),n({id:w.user.id,email:w.user.email||void 0})):y==="SIGNED_OUT"?(console.log("👋 onAuthStateChange: User signed out"),n(null),s(null)):y==="TOKEN_REFRESHED"&&(w!=null&&w.user)&&(console.log("🔄 onAuthStateChange: Token refreshed"),n({id:w.user.id,email:w.user.email||void 0})))});return()=>{h=!1,v.unsubscribe()}},[]),N.useEffect(()=>{if(!(e!=null&&e.id)){s(null);return}console.time("fetchProfile"),console.log("👤 fetchProfile: Starting profile fetch for user:",e.id),(async()=>{try{const{data:f,error:v}=await Rt.from("profiles").select("id, username").eq("id",e.id).maybeSingle();if(console.timeEnd("fetchProfile"),v){console.error("❌ fetchProfile: Error fetching profile:",v),s(null);return}if(f)console.log("✅ fetchProfile: Profile found:",f),s(f);else{console.log("⚠️ fetchProfile: No profile found, attempting to create one...");const y=e.email?e.email.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,6)+Math.floor(Math.random()*1e3):"user"+Math.floor(Math.random()*1e4);try{const{data:w,error:j}=await Rt.from("profiles").insert({id:e.id,username:y}).select("id, username").single();j?(console.error("❌ fetchProfile: Error creating profile:",j),s(null)):(console.log("✅ fetchProfile: Profile created successfully:",w),s(w))}catch(w){console.error("💥 fetchProfile: Exception creating profile:",w),s(null)}}}catch(f){console.error("💥 fetchProfile: Exception occurred:",f),console.timeEnd("fetchProfile"),s(null)}})()},[e]);const l=async()=>{try{console.log("🔐 signInWithGoogle: Starting Google OAuth sign-in...");const{error:h}=await _s.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(h)throw console.error("❌ signInWithGoogle: Google OAuth error:",h),h;console.log("✅ signInWithGoogle: Google OAuth initiated successfully")}catch(h){throw console.error("💥 signInWithGoogle: Exception occurred:",h),h}},a=async()=>{try{console.log("🚪 signOut: Starting sign-out process..."),n(null),s(null);const{error:h}=await _s.signOut();if(h)throw console.error("❌ signOut: Supabase sign-out error:",h),h;console.log("✅ signOut: Sign-out successful")}catch(h){throw console.error("💥 signOut: Exception occurred:",h),h}},c=async h=>{if(!(e!=null&&e.id))return console.error("❌ updateProfile: No user logged in"),{success:!1,error:"No user logged in"};try{const f={};h.username!==void 0&&(f.username=h.username),console.log("📤 updateProfile: Sending data to Supabase:",{userId:e.id,updateData:f});const{error:v}=await Rt.from("profiles").update(f).eq("id",e.id);if(v)return console.error("❌ updateProfile: Failed to update profile:",v),v.code==="23505"?{success:!1,error:"Username is already taken. Please choose a different one."}:{success:!1,error:v.message};if(console.log("✅ updateProfile: Profile updated successfully in database"),r){const y={...r,username:h.username!==void 0?h.username:r.username};s(y)}return{success:!0}}catch(f){return console.error("💥 updateProfile: Exception occurred:",f),{success:!1,error:f instanceof Error?f.message:"Unknown error"}}},d=N.useMemo(()=>({user:e,profile:r,booting:i,signInWithGoogle:l,signOut:a,updateProfile:c}),[e,r,i]);return u.jsx(Oh.Provider,{value:d,children:t})},Ti=()=>{const t=N.useContext(Oh);if(t===void 0)throw new Error("useAuth must be used within an AuthContextProvider");return t};function ev({bookmarkCount:t=0,onBookmarksClick:e,onGenerateClick:n,onChatClick:r,onSpeakClick:s,onDecodeClick:i,onLogoClick:o,onSettingsClick:l}){const{user:a,profile:c,booting:d,signOut:h,signInWithGoogle:f}=Ti(),[v,y]=N.useState(!1),w=async()=>{try{await h(),y(!1)}catch(p){console.error("Error signing out:",p)}},j=async()=>{try{await f()}catch(p){console.error("Error signing in:",p)}},g=()=>{y(!1),l==null||l()};return u.jsx("div",{className:"fixed top-1 left-1 right-1 z-40",children:u.jsxs("div",{className:"bg-black/50 backdrop-blur-xl border border-black/50 rounded-2xl shadow-2xl h-18 flex items-center justify-between px-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:o,className:"hover:opacity-80 transition-all duration-300 transform hover:scale-105",title:"Go to homepage",children:u.jsx("span",{className:"text-[#D5C3A5] font-mono text-xl font-bold tracking-wider uppercase",children:"StyleLabs"})}),u.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-1.5 rounded-2xl transition-colors font-mono tracking-wide bg-black/50 hover:bg-black/60 text-[#66BB6A]",title:"Generate image with AI",children:[u.jsx(Am,{size:16}),u.jsx("span",{className:"text-sm",children:"Generate"})]}),u.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-1.5 rounded-2xl transition-colors font-mono tracking-wide bg-black/50 hover:bg-black/60 text-[#5A7C9D]",title:"Chat with AI",children:[u.jsx(Em,{size:16}),u.jsx("span",{className:"text-sm",children:"Chat"})]}),u.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-1.5 rounded-2xl transition-colors font-mono tracking-wide bg-black/50 hover:bg-black/60 text-[#7BB972]",title:"Voice interaction",children:[u.jsx(bm,{size:16}),u.jsx("span",{className:"text-sm",children:"Speak"})]}),u.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-1.5 rounded-2xl transition-colors font-mono tracking-wide bg-black/50 hover:bg-black/60 text-[#C78D4E]",title:"Decode media",children:[u.jsx(xm,{size:16}),u.jsx("span",{className:"text-sm",children:"Decode"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[a&&!d&&u.jsx("button",{onClick:e,className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-white/10 transition-colors",title:"View liked items",children:u.jsx(rl,{size:16,className:"text-[#B8A082]"})}),d?u.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 rounded-2xl bg-black/50 text-white/50 font-mono tracking-wide",children:[u.jsx(It,{className:"animate-spin w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Loading"})]}):a?u.jsxs("div",{className:"relative",children:[u.jsx("button",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),className:"w-10 h-10 rounded-full bg-black/50 hover:bg-black/60 transition-colors flex items-center justify-center text-[#7C9A92]",title:"Profile & Settings",children:u.jsx(sl,{size:18})}),v&&u.jsxs("div",{className:"absolute top-12 right-0 bg-black/80 backdrop-blur-xl border border-white/20 rounded-xl shadow-2xl py-2 min-w-[160px] z-50",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[u.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-2 text-white/80 hover:text-white hover:bg-white/10 transition-colors text-sm",children:[u.jsx(sl,{size:16}),u.jsx("span",{children:"Account"})]}),u.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-4 py-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors text-sm",children:[u.jsx(jm,{size:16}),u.jsx("span",{children:"Sign Out"})]})]})]}):u.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-1.5 rounded-2xl transition-colors font-mono tracking-wide bg-black/50 hover:bg-black/60 text-[#B8A082]",title:"Sign In with Google",children:[u.jsx(sh,{size:16}),u.jsx("span",{className:"text-sm",children:"Sign In"})]})]})]})})}const ml=[{id:"STORY",label:"STORY",icon:"BookOpen",color:"#B8A082",description:"A tight three-beat narrative scaffold to spark your plot."},{id:"VIDEO",label:"VIDEO",icon:"Film",color:"#5A7C9D",description:"Three cinematic video prompts to bring your image to life."},{id:"DIALOGUE",label:"DIALOGUE",icon:"Mic",color:"#E67E22",description:"Three punchy dialogue cues to ignite character voice."},{id:"REMIX",label:"REMIX",icon:"Zap",color:"#8365AC",description:"Three style-shifting prompts, tuned for instant paste-and-go."},{id:"OUTPAINT",label:"OUTPAINT",icon:"Expand",color:"#4AA09F",description:"Seamless edge-extension prompt plus safe-crop guidance."},{id:"MUSIC",label:"MUSIC",icon:"Music",color:"#7BB972",description:"Three tailored music prompts—mood, tempo, instrumentation."}],li="creative-control-bookmarks",Vu=25;function Mt(){try{const t=localStorage.getItem(li);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading bookmarks:",t),[]}}function tv(t){try{const e=Mt();if(e.some(r=>r.id===t.id))return!1;e.push(t);const n=e.slice(-Vu);return localStorage.setItem(li,JSON.stringify(n)),!0}catch(e){console.error("Error adding bookmark:",e);try{const n=Mt();if(n.some(s=>s.id===t.id))return!1;n.push(t);const r=n.slice(-Math.floor(Vu/2));return localStorage.setItem(li,JSON.stringify(r)),!0}catch(n){return console.error("Error adding bookmark after reduction:",n),!1}}}function Ih(t){try{const n=Mt().filter(r=>r.id!==t);return localStorage.setItem(li,JSON.stringify(n)),!0}catch(e){return console.error("Error removing bookmark:",e),!1}}function nv(t){return Mt().some(n=>n.id===t)}async function rv(t){try{return await navigator.clipboard.writeText(t),!0}catch{try{const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.focus(),n.select();const r=document.execCommand("copy");return document.body.removeChild(n),r}catch(n){return console.error("Copy to clipboard failed:",n),!1}}}function Hu({activeTab:t,analysis:e,onTextClick:n}){const[r,s]=N.useState(new Set),i=async(l,a)=>{await rv(l)&&(s(d=>new Set(d).add(a)),setTimeout(()=>{s(d=>{const h=new Set(d);return h.delete(a),h})},2e3))},o=(l,a)=>u.jsx("button",{onClick:()=>i(l,a),className:"p-1 rounded-lg bg-white/10 hover:bg-white/20 transition-colors flex-shrink-0",title:"Copy to clipboard",children:r.has(a)?u.jsx(ym,{size:12,className:"text-green-400"}):u.jsx(_m,{size:12,className:"text-white/70"})});switch(t){case"REMIX":return u.jsx("div",{className:"space-y-0",children:e.creativeRemixes.map((l,a)=>u.jsxs("div",{className:"pb-3 border-b border-white/10 last:border-b-0 last:pb-0 flex items-start gap-2",children:[u.jsx("p",{className:"text-white/80 text-xs font-mono cursor-pointer hover:text-[#F0F0F0] transition-colors flex-1 leading-relaxed",onClick:()=>n==null?void 0:n(l),title:"Click to use as vision text",children:l}),o(l,`remix-${a}`)]},a))});case"OUTPAINT":return u.jsx("div",{className:"space-y-0",children:e.outpaintingPrompts.map((l,a)=>u.jsxs("div",{className:"pb-3 border-b border-white/10 last:border-b-0 last:pb-0 flex items-start gap-2",children:[u.jsx("p",{className:"text-white/80 text-xs font-mono cursor-pointer hover:text-[#F0F0F0] transition-colors flex-1 leading-relaxed",onClick:()=>n==null?void 0:n(l),title:"Click to use as vision text",children:l}),o(l,`outpainting-${a}`)]},a))});case"VIDEO":return u.jsx("div",{className:"space-y-0",children:e.animationPrompts.map((l,a)=>u.jsxs("div",{className:"pb-3 border-b border-white/10 last:border-b-0 last:pb-0 flex items-start gap-2",children:[u.jsx("p",{className:"text-white/80 text-xs font-mono cursor-pointer hover:text-[#F0F0F0] transition-colors flex-1 leading-relaxed",onClick:()=>n==null?void 0:n(l),title:"Click to use as vision text",children:l}),o(l,`video-${a}`)]},a))});case"MUSIC":return u.jsx("div",{className:"space-y-0",children:e.musicPrompts.map((l,a)=>u.jsxs("div",{className:"pb-3 border-b border-white/10 last:border-b-0 last:pb-0 flex items-start gap-2",children:[u.jsx("p",{className:"text-white/80 text-xs font-mono cursor-pointer hover:text-[#F0F0F0] transition-colors flex-1 leading-relaxed",onClick:()=>n==null?void 0:n(l),title:"Click to use as vision text",children:l}),o(l,`music-${a}`)]},a))});case"DIALOGUE":return u.jsx("div",{className:"space-y-0",children:e.dialoguePrompts.map((l,a)=>u.jsxs("div",{className:"pb-3 border-b border-white/10 last:border-b-0 last:pb-0 flex items-start gap-2",children:[u.jsx("p",{className:"text-white/80 text-xs font-mono cursor-pointer hover:text-[#F0F0F0] transition-colors flex-1 leading-relaxed",onClick:()=>n==null?void 0:n(l),title:"Click to use as vision text",children:l}),o(l,`dialogue-${a}`)]},a))});case"STORY":return u.jsx("div",{className:"space-y-0",children:e.storyPrompts.map((l,a)=>u.jsxs("div",{className:"pb-3 border-b border-white/10 last:border-b-0 last:pb-0 flex items-start gap-2",children:[u.jsx("p",{className:"text-white/80 text-xs font-mono leading-relaxed cursor-pointer hover:text-[#F0F0F0] transition-colors flex-1",onClick:()=>n==null?void 0:n(l),title:"Click to use as vision text",children:l}),o(l,`story-${a}`)]},a))});default:return null}}function sv({mediaUrl:t,mediaType:e,analysis:n,onClose:r,onTextClick:s,isTextOnlyAnalysis:i=!1,selectedMediaFile:o,isAuthenticated:l,authLoading:a,username:c,artistId:d,onViewArtistProfile:h}){const[f,v]=N.useState(()=>nv(n.title)),[y,w]=N.useState(!1),[j,g]=N.useState("idle"),{user:p,profile:m,signInWithGoogle:x}=Ti(),b=ml.filter(A=>["STORY","VIDEO","DIALOGUE"].includes(A.id)),S=ml.filter(A=>["REMIX","OUTPAINT","MUSIC"].includes(A.id)),[_,k]=N.useState("STORY"),[T,O]=N.useState("REMIX"),B=!!(c&&d),Xe=async()=>{if(!l||!p){console.log("❌ User not authenticated, prompting sign-in for bookmark action");try{await x()}catch(D){console.error("Sign-in failed:",D)}return}const A={id:n.title,mediaUrl:t,mediaType:e,analysis:n,timestamp:Date.now()};f?Ih(n.title)&&(v(!1),console.log("Removed from liked successfully")):tv(A)&&(v(!0),console.log("Added to liked successfully"))},Ze=async()=>{if(a){console.log("⏳ Authentication state is loading, please wait...");return}if(!l||!p){console.log("❌ User not authenticated, prompting sign-in");try{await x()}catch(A){console.error("Sign-in failed:",A),g("error"),setTimeout(()=>g("idle"),3e3)}return}if(!p.id||!(m!=null&&m.username)){console.error("❌ User missing required data:",{id:p.id,username:m==null?void 0:m.username}),g("error"),setTimeout(()=>g("idle"),3e3);return}if(!y){w(!0),g("idle");try{let A=t;if(o){console.log("📁 Uploading media file to storage...");try{A=await Y0(o,e),console.log("✅ Media uploaded successfully:",A)}catch(pt){console.error("❌ Media upload failed:",pt),console.log("⚠️ Falling back to existing media URL")}}const D=await X0({media_url:A,media_type:e,title:n.title,style:n.style,analysis:n,user_id:p.id,username:m.username});D.success?(g("success"),setTimeout(()=>g("idle"),3e3),console.log("✅ Analysis posted successfully with full data")):(g("error"),setTimeout(()=>g("idle"),3e3),console.error("❌ Post failed:",D.error))}catch(A){g("error"),setTimeout(()=>g("idle"),3e3),console.error("💥 Post error:",A)}finally{w(!1)}}},un=()=>{const A="max-w-full max-h-full object-contain rounded-2xl shadow-2xl";switch(e){case"image":return u.jsx("img",{src:t,alt:"Analysis subject",className:A});case"video":return u.jsx("video",{src:t,controls:!0,className:A,style:{maxHeight:"80vh"},preload:"metadata",children:"Your browser does not support the video tag."});case"audio":return u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[u.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-[#B8A082]/20 to-[#7C9A92]/20 rounded-2xl flex items-center justify-center border border-white/10",children:u.jsx(il,{size:48,className:"text-[#B8A082]"})}),u.jsx("audio",{src:t,controls:!0,className:"w-full max-w-md",preload:"metadata",children:"Your browser does not support the audio tag."})]});default:return null}},Jn=()=>{switch(e){case"image":return"Image";case"video":return"Video";case"audio":return"Audio";default:return"Media"}},Bt=()=>{switch(e){case"video":return u.jsx(ih,{size:12,className:"text-[#B8A082]"});case"audio":return u.jsx(il,{size:12,className:"text-[#B8A082]"});default:return u.jsx(Pm,{size:12,className:"text-[#B8A082]"})}},Vt=()=>{if(a)return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Loading..."})]});if(!l||!p)return u.jsxs(u.Fragment,{children:[u.jsx(sh,{size:12}),u.jsx("span",{children:"Sign In to Post"})]});if(!(m!=null&&m.username))return u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{children:"Set Username"})]});if(y)return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Posting..."})]});switch(j){case"success":return u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Posted!"})]});case"error":return u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),u.jsx("span",{children:"Failed"})]});default:return u.jsxs(u.Fragment,{children:[u.jsx(oh,{size:12}),u.jsx("span",{children:"POST"})]})}},C=()=>{const A="flex items-center gap-1 px-2 py-1 rounded-lg font-medium transition-all text-xs";if(a)return`${A} bg-white/10 text-white/50 cursor-not-allowed`;if(!l||!p)return`${A} bg-white/10 text-white/50 hover:bg-white/20`;if(!(m!=null&&m.username))return`${A} bg-orange-500/20 text-orange-400 hover:bg-orange-500/30`;if(y)return`${A} bg-white/10 text-white/50 cursor-not-allowed`;switch(j){case"success":return`${A} bg-green-500/20 text-green-400 hover:bg-green-500/30`;case"error":return`${A} bg-red-500/20 text-red-400 hover:bg-red-500/30`;default:return`${A} bg-[#B8A082]/20 text-[#B8A082] hover:bg-[#B8A082]/30`}},I=()=>{if(a)return"Loading authentication status...";if(!l||!p)return"Sign in to post this analysis to the website";if(!(m!=null&&m.username))return"Please set your username in account settings before posting";switch(j){case"success":return"Successfully posted to website with full analysis data";case"error":return"Failed to post - click to retry";default:return"Post this analysis to the website with complete data"}},R=()=>!l||!p?"Sign in to like this analysis":f?"Remove from liked":"Add to liked";return u.jsx("div",{className:"pt-16 h-screen overflow-hidden",children:u.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[u.jsxs("div",{className:"w-2/3 p-4 flex items-center justify-center relative",children:[un(),(i||e!=="image")&&u.jsx("div",{className:"absolute top-3 left-3 bg-[#B8A082]/20 backdrop-blur-sm rounded-xl px-2 py-1 border border-[#B8A082]/30",children:u.jsxs("div",{className:"flex items-center gap-1",children:[Bt(),u.jsx("span",{className:"text-[#B8A082] text-xs font-medium",children:i?"Text-Based Analysis":`${Jn()} Analysis`})]})})]}),u.jsxs("div",{className:"w-1/3 flex flex-col",children:[c&&u.jsx("div",{className:"bg-black/50 backdrop-blur-md shadow-inner px-4 pt-4 flex justify-end rounded-t-2xl",children:u.jsxs("button",{onClick:()=>d&&(h==null?void 0:h(d)),className:"text-artist-purple font-mono text-sm cursor-pointer hover:underline transition-colors",disabled:!d||!h,title:"View artist profile",children:["@",c]})}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsxs("div",{className:`bg-black/50 backdrop-blur-md shadow-inner relative ${c?"rounded-b-2xl rounded-t-none":"rounded-2xl"}`,children:[u.jsxs("div",{className:"p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("button",{onClick:r,className:"p-1 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",title:"Back to homepage",children:u.jsx(Qr,{size:16,className:"text-white"})}),u.jsx("h1",{className:"text-3xl font-light text-[#7C9A92] flex-1",children:n.title}),!B&&u.jsx("button",{onClick:Ze,disabled:y||a,className:C(),title:I(),children:Vt()}),u.jsx("button",{onClick:Xe,className:`p-1 rounded-xl transition-all duration-300 ${f?"text-red-500 bg-red-500/20 hover:bg-red-500/30 scale-110":"text-[#B8A082] hover:text-[#A69072] hover:bg-white/10"}`,title:R(),children:f?u.jsx(rl,{size:20,className:"fill-red-500"}):u.jsx(rl,{size:20})})]}),u.jsx("p",{className:"text-[#7C9A92] font-mono text-sm leading-relaxed cursor-pointer hover:text-[#8FAAA3] transition-colors mb-2",onClick:()=>s==null?void 0:s(n.style),title:"Click to use as vision text",children:n.style}),n.prompt&&u.jsx("div",{className:"mb-3",children:u.jsx("textarea",{value:n.prompt,readOnly:!0,rows:3,className:"w-full bg-white/5 rounded-xl p-3 text-[#E0E0E0] text-sm font-mono leading-relaxed resize-none border-none outline-none"})}),n.keyTokens&&n.keyTokens.length>0&&u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:n.keyTokens.map((A,D)=>u.jsx("button",{onClick:()=>s==null?void 0:s(A),className:"px-2 py-1 bg-black/30 text-[#94AFA7] text-xs font-mono rounded-xl hover:opacity-80 transition-opacity cursor-pointer",title:"Click to add to prompt",children:A},D))})})]}),u.jsx("div",{className:"px-4 mb-4",children:u.jsxs("div",{className:"border border-white/10 rounded-xl overflow-hidden shadow-lg",children:[u.jsx("div",{className:"flex border-b border-white/10",children:b.map((A,D)=>u.jsxs(Er.Fragment,{children:[u.jsx("button",{onClick:()=>k(A.id),className:`flex-1 p-2 text-xs font-medium transition-all ${_===A.id?"text-[#1a1a1a]":"text-white/70 hover:text-white/90 hover:bg-white/5"}`,style:_===A.id?{backgroundColor:A.color}:{},children:A.label}),D<b.length-1&&u.jsx("div",{className:"w-px bg-white/10"})]},A.id))}),u.jsx("div",{className:"p-3",children:u.jsx(Hu,{activeTab:_,analysis:n,onTextClick:s})})]})}),u.jsx("div",{className:"px-4 pb-4",children:u.jsxs("div",{className:"border border-white/10 rounded-xl overflow-hidden shadow-lg",children:[u.jsx("div",{className:"flex border-b border-white/10",children:S.map((A,D)=>u.jsxs(Er.Fragment,{children:[u.jsx("button",{onClick:()=>O(A.id),className:`flex-1 p-2 text-xs font-medium transition-all ${T===A.id?"text-[#1a1a1a]":"text-white/70 hover:text-white/90 hover:bg-white/5"}`,style:T===A.id?{backgroundColor:A.color}:{},children:A.label}),D<S.length-1&&u.jsx("div",{className:"w-px bg-white/10"})]},A.id))}),u.jsx("div",{className:"p-3",children:u.jsx(Hu,{activeTab:T,analysis:n,onTextClick:s})})]})})]})})]})]})})}function iv({onClose:t,onViewAnalysis:e}){const[n,r]=Er.useState([]);Er.useEffect(()=>{r(Mt())},[]);const s=(o,l)=>{l.stopPropagation(),Ih(o)&&r(Mt())},i=o=>{const l="w-full h-64 object-cover shadow-double-border";switch(o.mediaType){case"image":return u.jsx("img",{src:o.mediaUrl,alt:o.analysis.title,className:l});case"video":return u.jsxs("div",{className:"relative w-full h-64 bg-black flex items-center justify-center shadow-double-border",children:[u.jsx("video",{src:o.mediaUrl,className:l,muted:!0}),u.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:u.jsx(ih,{size:24,className:"text-white"})})]});case"audio":return u.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-[#B8A082]/20 to-[#7C9A92]/20 flex items-center justify-center shadow-double-border",children:u.jsx(il,{size:32,className:"text-[#B8A082]"})});default:return u.jsx("div",{className:"w-full h-64 bg-white/10 flex items-center justify-center shadow-double-border",children:u.jsx(Sm,{size:32,className:"text-white/50"})})}};return u.jsx("div",{className:"pt-[76px] min-h-screen",children:u.jsxs("div",{className:"overflow-y-auto",children:[u.jsx("div",{className:"p-4 border-b border-white/10",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:t,className:"p-1 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",title:"Back to homepage",children:u.jsx(Qr,{size:16,className:"text-white"})}),u.jsxs("h1",{className:"text-xl font-light text-[#E0E0E0]",children:["Liked (",n.length,")"]})]})}),u.jsx("div",{className:"p-4",children:n.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-white/10 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),u.jsx("p",{className:"text-white/50 text-base mb-1",children:"No liked items yet"}),u.jsx("p",{className:"text-white/30 text-xs",children:"Like analyses to access them quickly later"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(o=>u.jsx("div",{className:"bg-white/5 rounded-2xl overflow-hidden hover:bg-white/10 transition-all group border border-white/10 hover:border-white/20 hover:scale-[1.02] transform duration-300 cursor-pointer",onClick:()=>e(o),children:u.jsxs("div",{className:"relative overflow-hidden",children:[i(o),u.jsx("button",{onClick:l=>s(o.id,l),className:"absolute top-1 right-1 p-1 bg-red-500/80 hover:bg-red-500 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove from liked",children:u.jsx(Cm,{size:12,className:"text-white"})}),u.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 bg-black px-3 py-2 rounded-t-lg",children:u.jsx("p",{className:"text-neon-green font-mono text-xs font-medium text-center whitespace-nowrap",children:o.analysis.style})})]})},o.id))})})]})})}function ov({onUploadClick:t,onTextClick:e,selectedMediaUrl:n,selectedMediaType:r,isAnalyzing:s,onSubmitClick:i,onMediaRemove:o,fileInputRef:l,onFileChange:a,renderMediaDisplay:c,getMediaTypeLabel:d,isAuthenticated:h,authLoading:f}){const[v,y]=N.useState("REMIX"),w=()=>{const j=ml.find(g=>g.id===v);return(j==null?void 0:j.description)||""};return u.jsxs("div",{className:"pt-16 h-screen overflow-hidden bg-[#0E0E0E]",children:[u.jsx("input",{ref:l,type:"file",accept:"image/*,video/*,audio/*",onChange:a,className:"hidden"}),u.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[u.jsx("div",{className:"w-[70%] p-4 flex items-center justify-center relative",children:n?u.jsxs(u.Fragment,{children:[c(),u.jsx("button",{onClick:o,className:"absolute top-6 right-6 p-2 bg-red-500/80 hover:bg-red-500 rounded-xl transition-colors",title:"Remove media",children:u.jsx(Om,{size:16,className:"text-white"})})]}):u.jsxs("div",{className:"relative group cursor-pointer w-full h-full flex items-center justify-center",onClick:t,children:[u.jsx("img",{src:"/xyber3_85247_httpss.mj.runGheQ7nmBn6I_Asymetrical_fantasy_run_2176d81e-df11-4ba8-9dfc-1b65006c574f_1.png",alt:"Example fantasy artwork",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl transition-opacity group-hover:opacity-80"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/50 rounded-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[#D5C3A5] rounded-full flex items-center justify-center",children:u.jsx(oh,{size:24,className:"text-[#0E0E0E]"})}),u.jsx("p",{className:"text-white text-lg font-medium mb-2",children:"Upload Your Media"}),u.jsx("p",{className:"text-white/70 text-sm",children:"Click to analyze your own image, video, or audio"})]})})]})}),u.jsxs("aside",{className:"w-[30%] max-w-[380px] h-full sticky top-0 flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-[32px] font-light text-[#E6E6E6] leading-tight mb-3",style:{fontFamily:"Inter, SF Pro, sans-serif"},children:"Decode. Discover. Dream."}),u.jsx("h4",{className:"text-[11px] font-bold uppercase text-[#E6E6E6] opacity-80 mb-6",style:{letterSpacing:"0.08em"},children:"WHAT YOU'LL GET"}),u.jsx("div",{className:"bg-[#1A1A1A] rounded-xl p-6 mb-6 shadow-[0_0_0_1px_#1B1B1B_inset]",children:u.jsx("p",{className:"text-[#E6E6E6] opacity-80 text-[16px] leading-relaxed",style:{fontFamily:"Inter, SF Pro, sans-serif"},children:"Upload any image, video, or audio. StyleLabs pulls the DNA apart and hands you ready-to-use prompts for every creative lane—instantly."})})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("button",{onClick:()=>y("REMIX"),className:`p-3 rounded-xl font-medium transition-all bg-[#1A1A1A] text-[#E6E6E6] ${v==="REMIX"?"border border-[#D5C3A5]":"opacity-70 hover:opacity-100"}`,style:{fontSize:"13px",fontFamily:"Inter, SF Pro, sans-serif"},children:"REMIX"}),u.jsx("button",{onClick:()=>y("OUTPAINT"),className:`p-3 rounded-xl font-medium transition-all bg-[#1A1A1A] text-[#E6E6E6] ${v==="OUTPAINT"?"border border-[#D5C3A5]":"opacity-70 hover:opacity-100"}`,style:{fontSize:"13px",fontFamily:"Inter, SF Pro, sans-serif"},children:"OUTPAINT"}),u.jsx("button",{onClick:()=>y("MUSIC"),className:`p-3 rounded-xl font-medium transition-all bg-[#1A1A1A] text-[#E6E6E6] ${v==="MUSIC"?"border border-[#D5C3A5]":"opacity-70 hover:opacity-100"}`,style:{fontSize:"13px",fontFamily:"Inter, SF Pro, sans-serif"},children:"MUSIC"}),u.jsx("button",{onClick:()=>y("STORY"),className:`p-3 rounded-xl font-medium transition-all bg-[#1A1A1A] text-[#E6E6E6] ${v==="STORY"?"border border-[#D5C3A5]":"opacity-70 hover:opacity-100"}`,style:{fontSize:"13px",fontFamily:"Inter, SF Pro, sans-serif"},children:"STORY"}),u.jsx("button",{onClick:()=>y("VIDEO"),className:`p-3 rounded-xl font-medium transition-all bg-[#1A1A1A] text-[#E6E6E6] ${v==="VIDEO"?"border border-[#D5C3A5]":"opacity-70 hover:opacity-100"}`,style:{fontSize:"13px",fontFamily:"Inter, SF Pro, sans-serif"},children:"VIDEO"}),u.jsx("button",{onClick:()=>y("DIALOGUE"),className:`p-3 rounded-xl font-medium transition-all bg-[#1A1A1A] text-[#E6E6E6] ${v==="DIALOGUE"?"border border-[#D5C3A5]":"opacity-70 hover:opacity-100"}`,style:{fontSize:"13px",fontFamily:"Inter, SF Pro, sans-serif"},children:"DIALOGUE"})]})}),u.jsx("div",{className:"mb-6",children:u.jsx("p",{className:"text-[#E6E6E6] opacity-80 text-[16px] leading-relaxed",style:{fontFamily:"Inter, SF Pro, sans-serif"},children:w()})})]})}),u.jsxs("div",{className:"p-6 border-t border-[#1B1B1B]",children:[u.jsx("button",{onClick:i,disabled:!n||s,className:`w-full flex items-center justify-center gap-3 px-6 py-4 rounded-xl transition-all font-semibold text-lg ${n&&!s?"bg-[#D5C3A5] hover:bg-[#C5B395] text-[#0E0E0E] shadow-lg hover:shadow-xl transform hover:scale-[1.02]":"bg-[#1A1A1A] text-[#E6E6E6] opacity-40 cursor-not-allowed"}`,style:{fontFamily:"Inter, SF Pro, sans-serif"},title:n?s?"Analysis in progress...":"Start decoding your media":"Upload media first to decode",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Decoding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Rs,{size:20}),u.jsx("span",{children:"Decode Media"})]})}),u.jsx("p",{className:"text-center text-[#E6E6E6] opacity-50 text-xs mt-3",style:{fontFamily:"Inter, SF Pro, sans-serif"},children:n?s?"Analysis will complete in moments":"Ready to analyze with all creative modules":"Upload an image, video, or audio file to begin"})]})]})]})]})}const Rh="https://ifvfgazofiztxqcfgtet.supabase.co",Lh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmdmZnYXpvZml6dHhxY2ZndGV0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4NjUxMzUsImV4cCI6MjA2NjQ0MTEzNX0.Z2EWiOrKjHuBiJFx5I6fSeyQYnapdtRRUTUv16-zKYU";async function lv(t){const e=`${Rh}/functions/v1/generate-image`,n={Authorization:`Bearer ${Lh}`,"Content-Type":"application/json"};try{const r=await fetch(e,{method:"POST",headers:n,body:JSON.stringify(t)});if(!r.ok){const i=await r.text();let o=`API request failed: ${r.status}`;try{const l=JSON.parse(i);o+=` - ${l.error||"Unknown error"}`}catch{o+=` - ${i||"Unknown error"}`}throw new Error(o)}const s=await r.json();if(!s.id)throw new Error("No generation ID received from API");if(t.model==="dall-e-3"||t.model==="gpt-image-1"){if(s.state==="completed")return s;throw new Error("OpenAI generation did not complete immediately as expected")}return await av(s.id)}catch(r){throw console.error("Image Generation Error:",r),r}}async function av(t){var r;let n=0;for(;n<60;)try{const s=await fetch(`${Rh}/functions/v1/generate-image/${t}`,{method:"GET",headers:{Authorization:`Bearer ${Lh}`}});if(!s.ok){const o=await s.text();throw new Error(`Failed to check generation status: ${s.status} - ${o}`)}const i=await s.json();if(i.state==="completed")return{id:i.id,state:i.state,url:((r=i.assets)==null?void 0:r.image)||i.url,thumbnail_url:i.thumbnail_url,created_at:i.created_at,assets:i.assets};if(i.state==="failed")throw new Error(i.failure_reason||"Generation failed without specific reason");await new Promise(o=>setTimeout(o,5e3)),n++}catch(s){if(n>=59)throw s;await new Promise(i=>setTimeout(i,5e3)),n++}throw new Error("Generation timed out after 5 minutes")}function uv({initialPrompt:t="",onClose:e}){const[n,r]=N.useState(t),[s,i]=N.useState(!1),[o,l]=N.useState(null),[a,c]=N.useState(null);N.useState(!1);const[d,h]=N.useState("1:1"),[f,v]=N.useState("ray-1-6"),[y,w]=N.useState("medium"),[j,g]=N.useState(""),p=N.useRef(null);N.useEffect(()=>{if(p.current){p.current.style.height="auto";const k=p.current.scrollHeight,B=Math.max(Math.min(k,200),48);p.current.style.height=`${B}px`}},[n]),N.useEffect(()=>{let k;return s?k=setInterval(()=>{g(T=>T==="..."?"":T+".")},500):g(""),()=>clearInterval(k)},[s]),N.useEffect(()=>{w(f==="dall-e-3"?"standard":f==="gpt-image-1"?"auto":"medium")},[f]);const m=async()=>{if(n.trim()){i(!0),c(null),l(null);try{const k=await lv({prompt:n.trim(),aspect_ratio:d,model:f,quality:y});l(k)}catch(k){console.error("💥 Generation Error:",k),c(k instanceof Error?k.message:"Failed to generate image")}finally{i(!1)}}},x=async()=>{if(o!=null&&o.url)try{const T=await(await fetch(o.url)).blob(),O=window.URL.createObjectURL(T),B=document.createElement("a");B.href=O,B.download=`${f}-generated-${o.id}.png`,document.body.appendChild(B),B.click(),document.body.removeChild(B),window.URL.revokeObjectURL(O)}catch(k){console.error("Download failed:",k)}},b=[{value:"1:1",label:"Square (1:1)"},{value:"16:9",label:"Landscape (16:9)"},{value:"9:16",label:"Portrait (9:16)"},{value:"4:3",label:"Standard (4:3)"},{value:"3:4",label:"Portrait (3:4)"}],S=[{value:"ray-1-6",label:"Luma Ray 1.6",provider:"Luma Labs"},{value:"ray-2",label:"Ray 2",provider:"Luma Labs"},{value:"ray-flash-2",label:"Ray Flash 2",provider:"Luma Labs"},{value:"gpt-image-1",label:"GPT Image 1",provider:"OpenAI"},{value:"dall-e-3",label:"DALL-E 3",provider:"OpenAI"}],_=()=>f==="dall-e-3"?[{value:"standard",label:"Standard Quality"},{value:"hd",label:"HD Quality"}]:f==="gpt-image-1"?[{value:"auto",label:"Auto (Recommended)"},{value:"low",label:"Low Quality (Fast)"},{value:"medium",label:"Medium Quality"},{value:"high",label:"High Quality (Slow)",disabled:!0}]:[{value:"low",label:"Low Quality (Fast)"},{value:"medium",label:"Medium Quality"},{value:"high",label:"High Quality (Slow)"}];return u.jsx("div",{className:"pt-16 h-screen overflow-hidden",children:u.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[u.jsx("div",{className:"w-2/3 p-4 flex items-center justify-center relative",children:s?u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-[#B8A082] border-t-transparent rounded-full animate-spin"}),u.jsxs("p",{className:"text-white/70 text-lg font-mono",children:["generating image",j]})]}):o?u.jsxs("div",{className:"relative group w-full h-full flex items-center justify-center",children:[u.jsx("img",{src:o.url,alt:"Generated artwork",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl"}),u.jsx("button",{onClick:x,className:"absolute top-4 right-4 p-2 bg-black/60 hover:bg-black/80 rounded-xl transition-colors opacity-0 group-hover:opacity-100",title:"Download image",children:u.jsx(km,{size:16,className:"text-white"})})]}):a?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-red-500/20 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("p",{className:"text-red-400 text-base mb-2",children:"Generation Failed"}),u.jsx("p",{className:"text-white/50 text-sm max-w-md",children:a})]}):u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/10 rounded-full flex items-center justify-center",children:u.jsx(Rs,{className:"w-8 h-8 text-[#B8A082]"})}),u.jsx("p",{className:"text-white/70 text-lg mb-2",children:"Ready to Generate"}),u.jsx("p",{className:"text-white/50 text-sm",children:"Enter your prompt and select a model to create an image"})]})}),u.jsx("div",{className:"w-1/3 flex flex-col",children:u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsxs("div",{className:"rounded-2xl bg-black/50 backdrop-blur-md shadow-inner relative p-4",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("button",{onClick:e,className:"p-1 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",title:"Back to main page",children:u.jsx(Qr,{size:16,className:"text-white"})}),u.jsx("h1",{className:"text-2xl font-light text-[#E6E6E6] flex-1",style:{fontFamily:"Inter, SF Pro, sans-serif"},children:"Image Creation"}),u.jsx("div",{className:"text-[#B8A082]",children:u.jsx(Rs,{size:20})})]}),u.jsx("div",{className:"font-mono text-[#E6E6E6] text-sm lowercase tracking-wider opacity-80",children:"ai generation"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"bg-[#1A1A1A] border border-[#1B1B1B] rounded-lg px-3 py-1 mb-2 inline-block",children:u.jsx("label",{className:"text-[#E6E6E6] opacity-80 font-mono text-xs uppercase",children:"AI Model"})}),u.jsx("select",{value:f,onChange:k=>v(k.target.value),className:"w-full bg-[#1A1A1A] border border-white/20 rounded-xl px-3 py-2 text-[#E6E6E6] opacity-80 focus:outline-none focus:border-[#B8A082] focus:bg-[#1A1A1A] transition-all text-sm",children:S.map(k=>u.jsxs("option",{value:k.value,className:"bg-[#1a1a1a]",children:[k.label," (",k.provider,")"]},k.value))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"bg-[#1A1A1A] border border-[#1B1B1B] rounded-lg px-3 py-1 mb-2 inline-block",children:u.jsx("label",{className:"text-[#E6E6E6] opacity-80 font-mono text-xs uppercase",children:"Prompt"})}),u.jsx("textarea",{ref:p,value:n,onChange:k=>r(k.target.value),placeholder:"Describe the image you want to generate...",className:"w-full p-2 rounded-2xl bg-[#1A1A1A] text-[#E6E6E6] opacity-80 placeholder-[#E6E6E6]/50 focus:outline-none focus:border-[#B8A082] focus:bg-[#1A1A1A] transition-all resize-none overflow-hidden min-h-[48px] leading-relaxed text-sm font-mono border border-white/20",rows:3})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"bg-[#1A1A1A] border border-[#1B1B1B] rounded-lg px-3 py-1 mb-2 inline-block",children:u.jsx("label",{className:"text-[#E6E6E6] opacity-80 font-mono text-xs uppercase",children:"Aspect Ratio"})}),u.jsx("select",{value:d,onChange:k=>h(k.target.value),className:"w-full bg-[#1A1A1A] border border-white/20 rounded-xl px-3 py-2 text-[#E6E6E6] opacity-80 focus:outline-none focus:border-[#B8A082] focus:bg-[#1A1A1A] transition-all text-sm",children:b.map(k=>u.jsx("option",{value:k.value,className:"bg-[#1a1a1a]",children:k.label},k.value))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"bg-[#1A1A1A] border border-[#1B1B1B] rounded-lg px-3 py-1 mb-2 inline-block",children:u.jsx("label",{className:"text-[#E6E6E6] opacity-80 font-mono text-xs uppercase",children:"Quality"})}),u.jsx("select",{value:y,onChange:k=>w(k.target.value),className:"w-full bg-[#1A1A1A] border border-white/20 rounded-xl px-3 py-2 text-[#E6E6E6] opacity-80 focus:outline-none focus:border-[#B8A082] focus:bg-[#1A1A1A] transition-all text-sm",children:_().map(k=>u.jsx("option",{value:k.value,className:`bg-[#1a1a1a] ${k.disabled?"text-gray-500":""}`,disabled:k.disabled,children:k.label},k.value))})]}),u.jsx("button",{onClick:m,disabled:!n.trim()||s,className:`w-full flex items-center justify-center gap-3 px-6 py-4 rounded-xl transition-all font-semibold text-lg ${n.trim()&&!s?"bg-[#D5C3A5] hover:bg-[#C5B395] text-[#0E0E0E] shadow-lg hover:shadow-xl transform hover:scale-[1.02]":"bg-[#1A1A1A] text-[#E6E6E6] opacity-40 cursor-not-allowed"}`,style:{fontFamily:"Inter, SF Pro, sans-serif"},children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Generating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Rs,{size:20}),u.jsx("span",{children:"Generate"})]})})]})})})]})})}function cv({onClose:t,onViewAnalysis:e,authLoading:n}){const[r,s]=N.useState([]),[i,o]=N.useState(!0),[l,a]=N.useState(!1),[c,d]=N.useState(null),[h,f]=N.useState(!0),[v,y]=N.useState(0),[w,j]=N.useState("new"),g=N.useRef(null),p=N.useRef(null),m=12,x=N.useCallback(async(_=!1)=>{if(n){console.log("⏳ Auth still loading, skipping post fetch...");return}_?a(!0):(o(!0),d(null));try{const k=_?v:0;console.log(`🔄 Loading posts: isLoadMore=${_}, offset=${k}, sortOrder=${w}`);const T=await Th(m,k,w);if(T.error)console.error("❌ Error loading posts:",T.error),d(T.error);else{const O=T.data||[];_?(s(B=>[...B,...O]),y(B=>B+m)):(s(O),y(m)),f(T.hasMore),console.log(`📊 Loaded ${O.length} posts, total: ${_?r.length+O.length:O.length}, hasMore: ${T.hasMore}, sortOrder: ${w}`)}}catch(k){console.error("💥 Error loading posts:",k),d("Failed to load posts")}finally{o(!1),a(!1)}},[n,v,r.length,w]);N.useEffect(()=>{n||(console.log("🔄 Auth loading complete, loading initial posts..."),x(!1))},[n,x]),N.useEffect(()=>{n||(console.log("🔄 Sort order changed, reloading posts..."),y(0),f(!0),x(!1))},[w,n]),N.useEffect(()=>{if(!(l||!h||n))return g.current=new IntersectionObserver(_=>{_[0].isIntersecting&&h&&!l&&(console.log("🔄 Intersection detected, loading more posts..."),x(!0))},{threshold:.1,rootMargin:"100px"}),p.current&&g.current.observe(p.current),()=>{g.current&&g.current.disconnect()}},[x,h,l,n]);const b=_=>{n||j(_)},S=_=>{const k="w-full h-64 object-cover shadow-double-border";switch(_.media_type){case"image":return u.jsx("img",{src:_.media_url,alt:_.title,className:k,loading:"lazy",decoding:"async",onLoad:()=>console.log(`🖼️ Image loaded: ${_.title}`),onError:T=>{console.error(`❌ Image failed to load: ${_.title}`,T)}});case"video":return u.jsx("div",{className:"relative w-full h-64 bg-black flex items-center justify-center shadow-double-border",children:u.jsx("video",{src:_.media_url,className:k,muted:!0,preload:"none",loading:"lazy",onLoadStart:()=>console.log(`🎥 Video loading started: ${_.title}`),onError:T=>{console.error(`❌ Video failed to load: ${_.title}`,T)}})});case"audio":return u.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-[#B8A082]/20 to-[#7C9A92]/20 flex items-center justify-center shadow-double-border",children:u.jsx("svg",{className:"w-16 h-16 text-[#B8A082]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M9 12a3 3 0 106 0v-5a3 3 0 00-6 0v5z"})})});default:return u.jsx("div",{className:"w-full h-64 bg-white/10 flex items-center justify-center shadow-double-border",children:u.jsx("svg",{className:"w-16 h-16 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}};return u.jsx("div",{className:"pt-[76px] min-h-screen bg-[#1a1a1a]",children:u.jsxs("div",{className:"overflow-y-auto",children:[u.jsxs("div",{className:"px-4 py-4 flex items-center justify-between border-b border-white/10",children:[u.jsx("div",{className:"bg-[#1A1A1A] border border-white/20 rounded-lg px-3 py-1",children:u.jsx("span",{className:"text-[#E0E0E0] font-mono text-sm",children:n||i?"Loading...":`${r.length} creative styles`})}),!n&&!i&&!c&&u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:w,onChange:_=>b(_.target.value),className:"appearance-none bg-[#B8A082]/20 hover:bg-[#B8A082]/30 text-[#B8A082] rounded-xl px-4 py-2 pr-8 font-medium transition-colors text-sm cursor-pointer border-none outline-none",children:[u.jsx("option",{value:"new",className:"bg-[#1a1a1a] text-[#B8A082]",children:"New"}),u.jsx("option",{value:"top",className:"bg-[#1a1a1a] text-[#B8A082]",children:"Top"}),u.jsx("option",{value:"hot",className:"bg-[#1a1a1a] text-[#B8A082]",children:"Hot"})]}),u.jsx(wm,{size:16,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-[#B8A082] pointer-events-none"})]})]}),u.jsx("div",{className:"p-6",children:n?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(It,{className:"w-8 h-8 text-[#B8A082] animate-spin"}),u.jsx("p",{className:"text-white/70 text-lg",children:"Authenticating..."}),u.jsx("p",{className:"text-white/50 text-sm",children:"Please wait while we verify your session"})]})}):i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(It,{className:"w-8 h-8 text-[#B8A082] animate-spin"}),u.jsx("p",{className:"text-white/70 text-lg",children:"Loading gallery..."}),u.jsx("p",{className:"text-white/50 text-sm",children:"Optimized for fast loading"})]})}):c?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-500/20 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Failed to Load Gallery"}),u.jsx("p",{className:"text-white/50 text-sm mb-4",children:c}),u.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-xl font-medium transition-colors",children:"Try Again"})]}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/10 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("p",{className:"text-white/50 text-lg mb-2",children:"No Styles Yet"}),u.jsx("p",{className:"text-white/30 text-sm mb-4",children:"Start analyzing media and posting your favorite styles to see them here"}),u.jsx("button",{onClick:t,className:"px-6 py-2 bg-[#B8A082] hover:bg-[#A69072] text-[#1a1a1a] rounded-xl font-medium transition-colors",children:"Start Creating"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(_=>u.jsx("div",{onClick:()=>e(_),className:"bg-white/5 rounded-2xl overflow-hidden hover:bg-white/10 transition-all group border border-white/10 hover:border-white/20 hover:scale-[1.02] transform duration-300 cursor-pointer",children:u.jsxs("div",{className:"relative overflow-hidden",children:[S(_),u.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 bg-black px-3 py-2 rounded-t-lg",children:u.jsx("p",{className:"text-neon-green font-mono text-xs font-medium text-center whitespace-nowrap",children:_.style})})]})},_.id))}),h&&u.jsx("div",{ref:p,className:"flex items-center justify-center py-8",children:l&&u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(It,{className:"w-6 h-6 text-[#B8A082] animate-spin"}),u.jsx("p",{className:"text-white/50 text-sm",children:"Loading more styles..."})]})}),!h&&r.length>0&&u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-white/30 text-sm",children:"You've reached the end of the gallery"})})]})})]})})}function dv({onClose:t}){const{user:e,profile:n,booting:r,updateProfile:s,signOut:i}=Ti(),[o,l]=N.useState(""),[a,c]=N.useState(!1),[d,h]=N.useState(null);N.useEffect(()=>{console.log("🔄 AccountSettingsView: Profile data updated:",n),n&&l(n.username||"")},[n]);const f=async()=>{if(!(e!=null&&e.id)){h({type:"error",message:"You must be logged in to update your profile."});return}const y=o.trim();if(y.length<4||y.length>9){h({type:"error",message:"Username must be between 4 and 9 characters."});return}if(y===(n==null?void 0:n.username)){h({type:"error",message:"No changes to save."});return}c(!0),h(null);try{const{success:w,error:j}=await s({username:y});w?(h({type:"success",message:"Profile updated successfully!"}),console.log("✅ Profile updated successfully")):h({type:"error",message:j||"Failed to update profile."})}catch(w){h({type:"error",message:"An unexpected error occurred."}),console.error("Update profile error:",w)}finally{c(!1),setTimeout(()=>h(null),3e3)}},v=async()=>{try{await i(),t()}catch(y){h({type:"error",message:"Failed to sign out."}),console.error("Sign out error:",y)}};return r?u.jsxs("div",{className:"pt-16 h-screen flex items-center justify-center",children:[u.jsx(It,{className:"animate-spin text-[#B8A082] w-10 h-10"}),u.jsx("p",{className:"text-white/70 ml-4",children:"Loading user data..."})]}):e?u.jsx("div",{className:"pt-16 min-h-screen bg-[#1a1a1a]",children:u.jsxs("div",{className:"h-[calc(100vh-4rem)] flex flex-col",children:[u.jsx("div",{className:"p-6 border-b border-white/10 bg-white/5 backdrop-blur-xl",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:t,className:"p-2 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",title:"Back to main page",children:u.jsx(Qr,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(sl,{size:24,className:"text-[#7C9A92]"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-light text-[#E0E0E0]",children:"Account Settings"}),u.jsx("p",{className:"text-[#7C9A92] font-mono text-sm",children:"Manage your profile and preferences"})]})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsxs("div",{className:"max-w-lg mx-auto bg-white/5 rounded-2xl p-6 shadow-lg border border-white/10",children:[u.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Profile Information"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"email",className:"block text-white/70 text-sm font-medium mb-2",children:"Email"}),u.jsx("input",{type:"email",id:"email",value:e.email||"N/A",readOnly:!0,className:"w-full p-3 rounded-xl bg-white/10 text-white/80 cursor-not-allowed border border-white/20"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"username",className:"block text-white/70 text-sm font-medium mb-2",children:"Username (4-9 characters)"}),u.jsx("input",{type:"text",id:"username",value:o,onChange:y=>l(y.target.value),className:"w-full p-3 rounded-xl bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#B8A082] border border-white/20",maxLength:9,minLength:4,placeholder:n!=null&&n.username?"":"Enter username"})]}),d&&u.jsxs("div",{className:`mb-4 flex items-center gap-2 text-sm ${d.type==="success"?"text-green-400":"text-red-400"}`,children:[d.type==="success"?u.jsx(vm,{size:16}):u.jsx(Tm,{size:16}),u.jsx("span",{children:d.message})]}),u.jsx("button",{onClick:f,disabled:a||o.trim().length<4,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-colors ${a||o.trim().length<4?"bg-white/10 text-white/30 cursor-not-allowed":"bg-[#B8A082] hover:bg-[#A69072] text-[#1a1a1a]"}`,children:a?u.jsxs(u.Fragment,{children:[u.jsx(It,{className:"animate-spin w-5 h-5"}),"Updating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Nm,{size:20}),"Save Changes"]})}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[u.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Session Management"}),u.jsx("button",{onClick:v,disabled:a,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-colors ${a?"bg-white/10 text-white/30 cursor-not-allowed":"bg-red-500/20 hover:bg-red-500/30 text-red-400"}`,children:"Sign Out"})]})]})})]})}):u.jsxs("div",{className:"pt-16 h-screen flex flex-col items-center justify-center text-center",children:[u.jsx("h2",{className:"text-2xl font-light text-[#E0E0E0] mb-4",children:"Not Signed In"}),u.jsx("p",{className:"text-white/70 mb-6",children:"Please sign in to manage your account settings."}),u.jsx("button",{onClick:t,className:"px-6 py-3 bg-[#B8A082] hover:bg-[#A69072] text-[#1a1a1a] rounded-xl font-medium transition-colors",children:"Go Back"})]})}function hv({artistId:t,onClose:e,onViewAnalysis:n}){const[r,s]=N.useState([]),[i,o]=N.useState(!0),[l,a]=N.useState(!1),[c,d]=N.useState(null),[h,f]=N.useState(!0),[v,y]=N.useState(0),[w,j]=N.useState(""),g=N.useRef(null),p=N.useRef(null),m=12,x=N.useCallback(async(S=!1)=>{S?a(!0):(o(!0),d(null));try{const _=S?v:0;console.log(`🔄 Loading artist posts: artistId=${t}, isLoadMore=${S}, offset=${_}`);const k=await Th(m,_,"new",t);if(k.error)console.error("❌ Error loading artist posts:",k.error),d(k.error);else{const T=k.data||[];T.length>0&&T[0].username&&!w&&j(T[0].username),S?(s(O=>[...O,...T]),y(O=>O+m)):(s(T),y(m),T.length>0&&T[0].username&&j(T[0].username)),f(k.hasMore),console.log(`📊 Loaded ${T.length} artist posts, total: ${S?r.length+T.length:T.length}, hasMore: ${k.hasMore}`)}}catch(_){console.error("💥 Error loading artist posts:",_),d("Failed to load artist posts")}finally{o(!1),a(!1)}},[t,v,r.length,w]);N.useEffect(()=>{console.log("🔄 Loading initial artist posts..."),x(!1)},[t]),N.useEffect(()=>{if(!(l||!h))return g.current=new IntersectionObserver(S=>{S[0].isIntersecting&&h&&!l&&(console.log("🔄 Intersection detected, loading more artist posts..."),x(!0))},{threshold:.1,rootMargin:"100px"}),p.current&&g.current.observe(p.current),()=>{g.current&&g.current.disconnect()}},[x,h,l]);const b=S=>{const _="w-full h-64 object-cover shadow-double-border";switch(S.media_type){case"image":return u.jsx("img",{src:S.media_url,alt:S.title,className:_,loading:"lazy",decoding:"async"});case"video":return u.jsx("div",{className:"relative w-full h-64 bg-black flex items-center justify-center shadow-double-border",children:u.jsx("video",{src:S.media_url,className:_,muted:!0,preload:"none",loading:"lazy"})});case"audio":return u.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-[#B8A082]/20 to-[#7C9A92]/20 flex items-center justify-center shadow-double-border",children:u.jsx("svg",{className:"w-16 h-16 text-[#B8A082]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M9 12a3 3 0 106 0v-5a3 3 0 00-6 0v5z"})})});default:return u.jsx("div",{className:"w-full h-64 bg-white/10 flex items-center justify-center shadow-double-border",children:u.jsx("svg",{className:"w-16 h-16 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}};return u.jsx("div",{className:"pt-[76px] min-h-screen bg-[#1a1a1a]",children:u.jsxs("div",{className:"overflow-y-auto",children:[u.jsx("div",{className:"px-4 py-4 flex items-center justify-between border-b border-white/10",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:e,className:"p-2 rounded-xl bg-white/10 hover:bg-white/20 transition-colors",title:"Back to previous page",children:u.jsx(Qr,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-artist-purple",children:u.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-light text-[#E0E0E0]",children:["@",w]}),u.jsx("p",{className:"text-[#7C9A92] font-mono text-sm",children:i?"Loading...":`${r.length} creative ${r.length===1?"style":"styles"}`})]})]})]})}),u.jsx("div",{className:"p-6",children:i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(It,{className:"w-8 h-8 text-artist-purple animate-spin"}),u.jsx("p",{className:"text-white/70 text-lg",children:"Loading artist profile..."}),u.jsxs("p",{className:"text-white/50 text-sm",children:["Fetching @",w,"'s creative works"]})]})}):c?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-500/20 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Failed to Load Artist Profile"}),u.jsx("p",{className:"text-white/50 text-sm mb-4",children:c}),u.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-xl font-medium transition-colors",children:"Try Again"})]}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/10 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("p",{className:"text-white/50 text-lg mb-2",children:"No Styles Yet"}),u.jsxs("p",{className:"text-white/30 text-sm mb-4",children:["@",w," hasn't shared any creative styles yet"]}),u.jsx("button",{onClick:e,className:"px-6 py-2 bg-artist-purple hover:bg-artist-purple/80 text-white rounded-xl font-medium transition-colors",children:"Back to Gallery"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(S=>u.jsx("div",{onClick:()=>n(S),className:"bg-white/5 rounded-2xl overflow-hidden hover:bg-white/10 transition-all group border border-white/10 hover:border-artist-purple/50 hover:scale-[1.02] transform duration-300 cursor-pointer",children:u.jsxs("div",{className:"relative overflow-hidden",children:[b(S),u.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 bg-black px-3 py-2 rounded-t-lg",children:u.jsx("p",{className:"text-neon-green font-mono text-xs font-medium text-center whitespace-nowrap",children:S.style})})]})},S.id))}),h&&u.jsx("div",{ref:p,className:"flex items-center justify-center py-8",children:l&&u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(It,{className:"w-6 h-6 text-artist-purple animate-spin"}),u.jsx("p",{className:"text-white/50 text-sm",children:"Loading more styles..."})]})}),!h&&r.length>0&&u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-white/30 text-sm",children:["You've seen all of @",w,"'s styles"]})})]})})]})})}const fv="your-api-key-here",pv="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent";async function mv(t,e,n,r){const s=yv(e),i=gv(t,e),o={contents:[{parts:[{text:s},{inline_data:{mime_type:i,data:t.split(",")[1]}}]}],generationConfig:{temperature:.8,maxOutputTokens:8192}};try{const l=await fetch(`${pv}?key=${fv}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!l.ok)throw new Error(`API request failed: ${l.status}`);const c=(await l.json()).candidates[0].content.parts[0].text;return vv(c,r)}catch(l){return console.error("API Error:",l),_v(e,r)}}function gv(t,e){const n=t.match(/^data:([^;]+);base64,/);if(n)return n[1];switch(e){case"image":return"image/jpeg";case"video":return"video/mp4";case"audio":return"audio/mpeg";default:return"application/octet-stream"}}function vv(t,e,n=!1){let r=t.trim();r=r.replace(/```json\s*/g,"").replace(/```\s*$/g,"");const s=r.indexOf("{"),i=r.lastIndexOf("}");if(s===-1||i===-1||s>=i)throw new Error("No valid JSON object found in response");const o=r.substring(s,i+1);return JSON.parse(o)}function yv(t,e){const n=[];return n.push("IMPORTANT: Your response must be ONLY a single, valid JSON object. Do not include any other text or formatting.","",`Analyze this ${t} and return a JSON response with the following structure (all keys are required):`,"{",'  "title": "2 word creative title",','  "style": "3 word creative description",',`  "prompt": "Complete description of the ${t==="audio"?"audio content":"scene"} in 33 words",`,'  "keyTokens": ["exactly","seven","complex","two-word","tokens","best","summarize"],','  "creativeRemixes": ["enhanced_remix1","enhanced_remix2","enhanced_remix3"],','  "outpaintingPrompts": ["enhanced_outpainting1","enhanced_outpainting2","enhanced_outpainting3"],','  "animationPrompts": ["enhanced_video1","enhanced_video2","enhanced_video3"],','  "musicPrompts": ["enhanced_music1","enhanced_music2","enhanced_music3"],','  "dialoguePrompts": ["enhanced_dialogue1","enhanced_dialogue2","enhanced_dialogue3"],','  "storyPrompts": ["enhanced_story1","enhanced_story2","enhanced_story3"]',"}"),n.push(...wv(t)),n.join(`
`)}function wv(t){const e=xv(t);return["",`CRITICAL: The keyTokens array MUST contain exactly seven two-word tokens that are the most important, complex, and specific descriptors that best capture the essence of the ${t}. These should be sophisticated combinations that represent the core visual, stylistic, and thematic elements.`,"","You are operating in EXPERT mode. Provide deeply specific, unconventional, highly detailed creative outputs.","",...e,"","**Key Token Requirements:**",`- keyTokens: Exactly 7 two-word tokens that best summarize the ${t}. These should be the most important descriptors covering composition, atmosphere, style, and theme. Examples: "neon cyberpunk", "gothic architecture", "ethereal lighting", "vintage aesthetic", "dynamic composition", "surreal atmosphere", "cinematic depth"`,"","**Other Module Requirements:**",'- For "prompt": Create a complete 33-word description that captures the essence with vivid detail and artistic language.','- For "creativeRemixes": Generate exactly 3 complete reimagined descriptions of 15-21 words each that transform the original into new genres or styles.','- For "outpaintingPrompts": Create exactly 3 complete descriptions of 15-21 words each that expand beyond the current scope.','- For "animationPrompts": Provide exactly 3 complete descriptions of 15-21 words each for video animation that can be captured in 5 seconds maximum.','- For "musicPrompts": Provide exactly 3 music style descriptions, each 150-180 characters long.','- For "dialoguePrompts": Provide exactly 3 dialogue/narration prompts of 5-7 words each that can be spoken in 5-10 seconds.','- For "storyPrompts": Generate exactly 3 unique stories of 15-21 words each with increasing creativity and imagination.',"","REMEMBER: Your entire response must be valid JSON only. No additional text or explanations outside the JSON structure."]}function xv(t){switch(t){case"image":return["**IMAGE ANALYSIS FOCUS:**","- Analyze visual composition, lighting, color palette, and artistic style","- Focus on visual elements, subjects, and aesthetic qualities","- Consider photographic or artistic techniques used"];case"video":return["**VIDEO ANALYSIS FOCUS:**","- Analyze visual composition, movement, pacing, and cinematography","- Focus on key frames, transitions, and visual storytelling elements","- Consider camera work, editing style, and temporal flow","- Extract the most visually striking and representative moments"];case"audio":return["**AUDIO ANALYSIS FOCUS:**","- Analyze sonic composition, rhythm, melody, and audio texture","- Focus on musical elements, sound design, and auditory atmosphere","- Consider instrumentation, production style, and emotional tone","- Translate audio qualities into visual and creative concepts","- For key tokens, think of audio structure as visual descriptors"];default:return[]}}function _v(t,e){const n=e,r={keyTokens:["cybernetic portrait","neon lighting","futuristic aesthetic","digital enhancement","synthetic beauty","technological fusion","ethereal glow"],creativeRemixes:["Transform into medieval fantasy setting with magical elements replacing technological components in mystical environment.","Reimagine as 1920s art deco style with geometric patterns and luxurious vintage aesthetic throughout composition.","Convert to underwater scene with bioluminescent features and flowing aquatic elements creating ethereal atmosphere."],outpaintingPrompts:["Reveal vast surrounding environment with additional contextual elements extending beyond current boundaries of content.","Expand to show broader narrative context with supporting characters and environmental details in background.","Extend scope to include temporal elements showing progression and development of central theme."],animationPrompts:["Gentle rhythmic motion with subtle environmental changes and soft transitions creating peaceful flowing movement.","Dynamic transformation sequence with dramatic lighting changes and particle effects building visual intensity.","Cinematic camera movement revealing hidden details and creating immersive storytelling experience through motion."],musicPrompts:["Ethereal ambient soundscape with layered textures, evolving harmonies, and subtle rhythmic elements creating immersive atmospheric experience perfect for contemplation.","Dynamic orchestral composition featuring dramatic crescendos, intricate melodies, and rich instrumentation that captures emotional depth and narrative complexity.","Electronic fusion with synthesized textures, rhythmic patterns, and digital processing creating modern sonic interpretation of visual themes."],dialoguePrompts:["The essence of transformation unfolds","Where reality meets imagination","Beyond the realm of possibility"],storyPrompts:["A simple discovery becomes the catalyst for extraordinary personal transformation and unexpected journey of growth.","An intricate narrative exploring how seemingly unrelated elements connect across different dimensions of experience.","A surreal adventure where boundaries between different realities blur creating infinite possibilities for exploration."]};switch(t){case"image":return{title:n?"Vision Focused":"Cybernetic Awakening",style:n?"Custom Analysis":"Futuristic Portrait",prompt:n?`Analysis focused on your vision: "${e}" revealing hidden depths and artistic elements within the composition through targeted examination.`:"A young cyborg woman with platinum hair stands in ornate bathroom, synthetic skin glistening with moisture against warm ambient lighting.",keyTokens:n?["vision focused","custom analysis","targeted examination","artistic elements","hidden depths","composition study","creative interpretation"]:["cybernetic portrait","neon lighting","futuristic aesthetic","digital enhancement","synthetic beauty","technological fusion","ethereal glow"],...r};case"video":return{title:n?"Motion Vision":"Cinematic Flow",style:n?"Dynamic Analysis":"Moving Narrative",prompt:n?`Video analysis focused on your vision: "${e}" capturing movement, transitions, and temporal elements within the dynamic composition.`:"Dynamic sequence showing fluid camera movements through futuristic environments with dramatic lighting transitions and character interactions creating cinematic storytelling.",keyTokens:n?["motion vision","dynamic analysis","temporal elements","movement capture","transition focus","cinematic flow","video interpretation"]:["cinematic flow","camera movement","lighting transitions","dynamic sequence","visual storytelling","temporal narrative","motion aesthetics"],...r};case"audio":return{title:n?"Sonic Vision":"Audio Landscape",style:n?"Sound Analysis":"Musical Journey",prompt:n?`Audio analysis focused on your vision: "${e}" translating sonic elements into visual concepts and creative interpretations.`:"Rich layered soundscape featuring ethereal melodies, rhythmic percussion, and atmospheric textures creating immersive auditory experience with emotional depth.",keyTokens:n?["sonic vision","sound analysis","audio interpretation","musical concepts","rhythmic elements","harmonic structure","auditory aesthetics"]:["layered soundscape","ethereal melodies","rhythmic percussion","atmospheric textures","auditory experience","emotional depth","sonic composition"],...r};default:return r}}function kv(){const[t,e]=N.useState("gallery"),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,l]=N.useState("image"),[a,c]=N.useState(!1),[d,h]=N.useState(null),[f,v]=N.useState(null),[y,w]=N.useState(null),[j,g]=N.useState(null),[p,m]=N.useState(0),x=N.useRef(null),{user:b,booting:S}=Ti();if(Er.useEffect(()=>{m(Mt().length)},[]),S)return u.jsx("div",{className:"min-h-screen bg-charcoal-matte flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-[#B8A082] border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-white/70 text-lg",children:"Initializing StyleLabs..."}),u.jsx("p",{className:"text-white/50 text-sm",children:"Loading your session"})]})});const _=$=>$.type.startsWith("image/")?"image":$.type.startsWith("video/")?"video":$.type.startsWith("audio/")?"audio":"image",k=$=>{const dn=_($);l(dn),r($);const Xn=new FileReader;Xn.onload=zh=>{var va;i((va=zh.target)==null?void 0:va.result)},Xn.readAsDataURL($)},T=()=>{var $;($=x.current)==null||$.click()},O=$=>{var Xn;const dn=(Xn=$.target.files)==null?void 0:Xn[0];dn&&k(dn)},B=()=>{r(null),i(null),l("image"),h(null),v(null),w(null)},Xe=async()=>{if(s){c(!0);try{const $=await mv(s,o,[]);h($),v(null),w(null),e("analysis")}catch($){console.error("Analysis failed:",$)}finally{c(!1)}}},Ze=()=>{e("generate")},un=()=>{console.log("Chat button clicked")},Jn=()=>{console.log("Speak button clicked")},Bt=()=>{r(null),i(null),l("image"),h(null),v(null),w(null),e("main")},Vt=()=>{e("bookmarks")},C=$=>{i($.mediaUrl),l($.mediaType),h($.analysis),v(null),w(null),e("analysis")},I=$=>{if(i($.media_url),l($.media_type),v($.username||null),w($.user_id||null),$.analysis_data)console.log("✅ Using stored analysis data from gallery post"),h($.analysis_data);else{console.log("⚠️ No stored analysis data, creating minimal analysis from post data");const dn={title:$.title,style:$.style,prompt:`Analysis for ${$.title}`,keyTokens:[],creativeRemixes:[],outpaintingPrompts:[],animationPrompts:[],musicPrompts:[],dialoguePrompts:[],storyPrompts:[]};h(dn)}e("analysis")},R=$=>{g($),e("artistProfile")},A=()=>{e("gallery"),r(null),i(null),l("image"),h(null),v(null),w(null)},D=()=>{e("gallery"),m(Mt().length)},pt=()=>{e("gallery")},et=()=>{e("gallery")},Yn=()=>{e("gallery")},tt=()=>{e("gallery"),g(null)},cn=()=>{e("gallery")},ma=$=>{console.log("Text clicked:",$)},$h=()=>{e("settings")},ga=()=>!!b,Mh=()=>{if(!s)return null;const $="max-w-full max-h-full object-contain rounded-2xl shadow-2xl";switch(o){case"image":return u.jsx("img",{src:s,alt:"Selected for analysis",className:$});case"video":return u.jsx("video",{src:s,controls:!0,className:$,style:{maxHeight:"70vh"},preload:"metadata",children:"Your browser does not support the video tag."});case"audio":return u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[u.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-[#B8A082]/20 to-[#7C9A92]/20 rounded-2xl flex items-center justify-center border border-white/10",children:u.jsx("svg",{className:"w-24 h-24 text-[#B8A082]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M9 12a3 3 0 106 0v-5a3 3 0 00-6 0v5z"})})}),u.jsx("audio",{src:s,controls:!0,className:"w-full max-w-md",preload:"metadata",children:"Your browser does not support the audio tag."})]});default:return null}},Uh=()=>{switch(o){case"image":return"image";case"video":return"video";case"audio":return"audio file";default:return"media"}};return u.jsxs("div",{className:"min-h-screen bg-charcoal-matte font-sans",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*,video/*,audio/*",onChange:O,className:"hidden"}),u.jsx(ev,{bookmarkCount:p,onBookmarksClick:Vt,onGenerateClick:Ze,onChatClick:un,onSpeakClick:Jn,onDecodeClick:Bt,onLogoClick:cn,onSettingsClick:$h}),t==="main"&&u.jsx(ov,{onUploadClick:T,onTextClick:ma,selectedMediaUrl:s,selectedMediaType:o,isAnalyzing:a,onSubmitClick:Xe,onMediaRemove:B,fileInputRef:x,onFileChange:O,renderMediaDisplay:Mh,getMediaTypeLabel:Uh,isAuthenticated:ga(),authLoading:!1}),t==="gallery"&&u.jsx(cv,{onClose:et,onViewAnalysis:I,authLoading:!1}),t==="analysis"&&d&&u.jsx(sv,{mediaUrl:s||"/xyber3_85247_httpss.mj.runGheQ7nmBn6I_Asymetrical_fantasy_run_2176d81e-df11-4ba8-9dfc-1b65006c574f_1.png",mediaType:o,analysis:d,onClose:A,onTextClick:ma,isTextOnlyAnalysis:!1,selectedMediaFile:n,isAuthenticated:ga(),authLoading:!1,username:f,artistId:y,onViewArtistProfile:R}),t==="generate"&&u.jsx(uv,{initialPrompt:"",onClose:pt}),t==="bookmarks"&&u.jsx(iv,{onClose:D,onViewAnalysis:C}),t==="artistProfile"&&j&&u.jsx(hv,{artistId:j,onClose:tt,onViewAnalysis:I}),t==="settings"&&u.jsx(dv,{onClose:Yn})]})}rh(document.getElementById("root")).render(u.jsx(N.StrictMode,{children:u.jsxs(Z0,{children:[" ",u.jsx(kv,{})]})}));
